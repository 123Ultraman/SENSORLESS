#include "based_FOC.h"
#include "rtwtypes.h"
#include "based_FOC_private.h"
#include "mwmathutil.h"
#include <float.h>
#include "based_FOC_types.h"
#include "rt_logging_mmi.h"
#include "based_FOC_capi.h"
#include "zero_crossing_types.h"
#include "based_FOC_dt.h"
extern void * CreateDiagnosticAsVoidPtr_wrapper ( const char * id , int nargs
, ... ) ; extern ssExecutionInfo gblExecutionInfo ; RTWExtModeInfo *
gblRTWExtModeInfo = NULL ; void raccelForceExtModeShutdown ( boolean_T
extModeStartPktReceived ) { if ( ! extModeStartPktReceived ) { boolean_T
stopRequested = false ; rtExtModeWaitForStartPkt ( gblRTWExtModeInfo , 2 , &
stopRequested ) ; } rtExtModeShutdown ( 2 ) ; }
#include "slsv_diagnostic_codegen_c_api.h"
#include "slsa_engine_exec.h"
#ifdef RSIM_WITH_SOLVER_MULTITASKING
boolean_T gbl_raccel_isMultitasking = 1 ;
#else
boolean_T gbl_raccel_isMultitasking = 0 ;
#endif
boolean_T gbl_raccel_tid01eq = 1 ; int_T gbl_raccel_NumST = 3 ; const char_T
* gbl_raccel_Version = "24.2 (R2024b) 21-Jun-2024" ; void
raccel_setup_MMIStateLog ( SimStruct * S ) {
#ifdef UseMMIDataLogging
rt_FillStateSigInfoFromMMI ( ssGetRTWLogInfo ( S ) , & ssGetErrorStatus ( S )
) ;
#else
UNUSED_PARAMETER ( S ) ;
#endif
} static DataMapInfo rt_dataMapInfo ; DataMapInfo * rt_dataMapInfoPtr = &
rt_dataMapInfo ; rtwCAPI_ModelMappingInfo * rt_modelMapInfoPtr = & ( rt_dataMapInfo . mmi ) ; int_T enableFcnCallFlag [ ] = { 1 , 1 , 1 } ; const char * raccelLoadInputsAndAperiodicHitTimes ( SimStruct * S , const char * inportFileName , int * matFileFormat ) { return rt_RAccelReadInportsMatFile ( S , inportFileName , matFileFormat ) ; }
#include "simstruc.h"
#include "fixedpoint.h"
#include "slsa_engine_exec.h"
#include "simtarget/slSimTgtSLExecSimBridge.h"
#define fzwqqwyitf (-1)
#define jmp4ftudat (-1)
B rtB ; DW rtDW ; PrevZCX rtPrevZCX ; static SimStruct model_S ; SimStruct *
const rtS = & model_S ; static void ht5d0tl1u4 ( real_T T3 , real_T T4 ,
real_T Period , real_T * T1 , real_T * T2 ) ; real_T look1_binlxpw ( real_T
u0 , const real_T bp0 [ ] , const real_T table [ ] , uint32_T maxIndex ) {
real_T frac ; real_T yL_0d0 ; uint32_T bpIdx ; uint32_T iLeft ; uint32_T
iRght ; if ( u0 <= bp0 [ 0U ] ) { iLeft = 0U ; frac = ( u0 - bp0 [ 0U ] ) / ( bp0 [ 1U ] - bp0 [ 0U ] ) ; } else if ( u0 < bp0 [ maxIndex ] ) { bpIdx = maxIndex >> 1U ; iLeft = 0U ; iRght = maxIndex ; while ( iRght - iLeft > 1U ) { if ( u0 < bp0 [ bpIdx ] ) { iRght = bpIdx ; } else { iLeft = bpIdx ; } bpIdx = ( iRght + iLeft ) >> 1U ; } frac = ( u0 - bp0 [ iLeft ] ) / ( bp0 [ iLeft + 1U ] - bp0 [ iLeft ] ) ; } else { iLeft = maxIndex - 1U ; frac = ( u0 - bp0 [ maxIndex - 1U ] ) / ( bp0 [ maxIndex ] - bp0 [ maxIndex - 1U ] ) ; } yL_0d0 = table [ iLeft ] ; return ( table [ iLeft + 1U ] - yL_0d0 ) * frac + yL_0d0 ; } real_T look1_binlcapw ( real_T u0 , const real_T bp0 [ ] , const real_T table [ ] , uint32_T maxIndex ) { real_T frac ; real_T y ; real_T yL_0d0 ; uint32_T bpIdx ; uint32_T iLeft ; uint32_T iRght ; if ( u0 <= bp0 [ 0U ] ) { iLeft = 0U ; frac = 0.0 ; } else if ( u0 < bp0 [ maxIndex ] ) { bpIdx = maxIndex >> 1U ; iLeft = 0U ; iRght = maxIndex ; while ( iRght - iLeft > 1U ) { if ( u0 < bp0 [ bpIdx ] ) { iRght = bpIdx ; } else { iLeft = bpIdx ; } bpIdx = ( iRght + iLeft ) >> 1U ; } frac = ( u0 - bp0 [ iLeft ] ) / ( bp0 [ iLeft + 1U ] - bp0 [ iLeft ] ) ; } else { iLeft = maxIndex ; frac = 0.0 ; } if ( iLeft == maxIndex ) { y = table [ iLeft ] ; } else { yL_0d0 = table [ iLeft ] ; y = ( table [ iLeft + 1U ] - yL_0d0 ) * frac + yL_0d0 ; } return y ; } uint32_T plook_evenc ( real_T u , real_T bp0 , real_T bpSpace , uint32_T maxIndex , real_T * fraction ) { real_T fbpIndex ; real_T invSpc ; uint32_T bpIndex ; if ( u <= bp0 ) { bpIndex = 0U ; * fraction = 0.0 ; } else { invSpc = 1.0 / bpSpace ; fbpIndex = ( u - bp0 ) * invSpc ; if ( fbpIndex < maxIndex ) { bpIndex = ( uint32_T ) fbpIndex ; * fraction = ( u - ( ( real_T ) ( uint32_T ) fbpIndex * bpSpace + bp0 ) ) * invSpc ; } else { bpIndex = maxIndex - 1U ; * fraction = 1.0 ; } } return bpIndex ; } real_T intrp1d_l_pw ( uint32_T bpIndex , real_T frac , const real_T table [ ] ) { real_T yL_0d0 ; yL_0d0 = table [ bpIndex ] ; return ( table [ bpIndex + 1U ] - yL_0d0 ) * frac + yL_0d0 ; } void lxmgqv3obs ( dqa3f0aosy * localDW ) { localDW -> lol2meeg5o = 0.0 ; localDW -> gkvboyiwt2 = true ; localDW -> adakvlvgf4 = 0.0 ; localDW -> ogzjxpnwsq = true ; localDW -> epw5r2ybkp = false ; localDW -> kejdnwv5ef = fzwqqwyitf ; } void j11ktu25te ( real_T b0ssn55kha , real_T pcergmpyv1 , real_T mnsov3mxmw , real_T aoq1letcfk , real_T a0lt55ayjl , real_T om1x30cytv , real_T jb4biqbkts , real_T fsv2pgqofy , real_T dk03hv4coc , mvoupavy5p * localB , dqa3f0aosy * localDW ) { real_T D ; localDW -> kejdnwv5ef = fzwqqwyitf ; localDW -> adakvlvgf4 += mnsov3mxmw * b0ssn55kha * a0lt55ayjl ; if ( localDW -> adakvlvgf4 >= om1x30cytv ) { localDW -> adakvlvgf4 = om1x30cytv ; } else if ( localDW -> adakvlvgf4 <= jb4biqbkts ) { localDW -> adakvlvgf4 = jb4biqbkts ; } D = ( b0ssn55kha - localDW -> lol2meeg5o ) * aoq1letcfk / a0lt55ayjl ; localDW -> lol2meeg5o = b0ssn55kha ; localB -> pveoae0rgk = ( pcergmpyv1 * b0ssn55kha + localDW -> adakvlvgf4 ) + D ; if ( localB -> pveoae0rgk >= fsv2pgqofy ) { localB -> pveoae0rgk = fsv2pgqofy ; } else if ( localB -> pveoae0rgk <= dk03hv4coc ) { localB -> pveoae0rgk = dk03hv4coc ; } } static void ht5d0tl1u4 ( real_T T3 , real_T T4 , real_T Period , real_T * T1 , real_T * T2 ) { real_T T3_abs ; real_T T4_abs ; T3_abs = muDoubleScalarAbs ( T3 ) ; T4_abs = muDoubleScalarAbs ( T4 ) ; * T2 = Period / 2.0 ; if ( ( T3_abs <= * T2 ) && ( T4_abs <= * T2 ) ) { * T1 = T3 ; * T2 = T4 ; } else if ( ( T3_abs >= * T2 ) && ( T4_abs >= * T2 ) ) { * T1 = * T2 ; } else if ( T3_abs >= T4_abs ) { if ( T3_abs - T4_abs >= * T2 ) { * T1 = * T2 ; * T2 = 0.0 ; } else { * T1 = * T2 ; * T2 = * T2 * T4 / T3 ; } } else if ( T4_abs - T3_abs >= * T2 ) { * T1 = 0.0 ; } else { * T1 = * T2 * T3 / T4 ; } } void MdlInitialize ( void ) { boolean_T tmp ; rtDW . g2db00oyvj = rtP . DiscreteTimeIntegrator1_IC ; rtDW . lc2ze5kdtm = rtP . DiscreteTimeIntegrator_IC_mu4lei3aeq ; rtDW . ki15zaj1gp = rtP . DiscreteTimeIntegrator_IC_jlygup22ed ; rtDW . gymfqxh2cd = rtP . DiscreteTimeIntegrator_IC_nkd2pr4ny4 ; rtDW . dt2ijnggmb = rtP . UnitDelay5_InitialCondition ; rtDW . byvsnyv5zr = rtP . UnitDelay6_InitialCondition ; rtDW . cz435ihcu3 = rtP . UnitDelay1_InitialCondition ; { int32_T i , j ; real_T * Ds = ( real_T * ) rtDW . gbqvg1m3jx . DS ; for ( i = 0 ; i < 9 ; i ++ ) { for ( j = 0 ; j < 22 ; j ++ ) Ds [ i * 22 + j ] = ( rtP . StateSpace_DS_param [ i + j * 9 ] ) ; } { int_T * switch_status = ( int_T * ) rtDW . gbqvg1m3jx . SWITCH_STATUS ; int_T * gState = ( int_T * ) rtDW . gbqvg1m3jx . G_STATE ; real_T * yswitch = ( real_T * ) rtDW . gbqvg1m3jx . Y_SWITCH ; int_T * switchTypes = ( int_T * ) rtDW . gbqvg1m3jx . SWITCH_TYPES ; int_T * idxOutSw = ( int_T * ) rtDW . gbqvg1m3jx . IDX_OUT_SW ; int_T * switch_status_init = ( int_T * ) rtDW . gbqvg1m3jx . SWITCH_STATUS_INIT ; switch_status [ 0 ] = 0 ; switch_status_init [ 0 ] = 0 ; gState [ 0 ] = ( int_T ) 0.0 ; yswitch [ 0 ] = 1 / 0.001 ; switchTypes [ 0 ] = ( int_T ) 3.0 ; idxOutSw [ 0 ] = ( ( int_T ) 0.0 ) - 1 ; switch_status [ 1 ] = 0 ; switch_status_init [ 1 ] = 0 ; gState [ 1 ] = ( int_T ) 0.0 ; yswitch [ 1 ] = 1 / 0.001 ; switchTypes [ 1 ] = ( int_T ) 3.0 ; idxOutSw [ 1 ] = ( ( int_T ) 0.0 ) - 1 ; switch_status [ 2 ] = 0 ; switch_status_init [ 2 ] = 0 ; gState [ 2 ] = ( int_T ) 0.0 ; yswitch [ 2 ] = 1 / 0.001 ; switchTypes [ 2 ] = ( int_T ) 3.0 ; idxOutSw [ 2 ] = ( ( int_T ) 0.0 ) - 1 ; switch_status [ 3 ] = 0 ; switch_status_init [ 3 ] = 0 ; gState [ 3 ] = ( int_T ) 0.0 ; yswitch [ 3 ] = 1 / 0.001 ; switchTypes [ 3 ] = ( int_T ) 3.0 ; idxOutSw [ 3 ] = ( ( int_T ) 0.0 ) - 1 ; switch_status [ 4 ] = 0 ; switch_status_init [ 4 ] = 0 ; gState [ 4 ] = ( int_T ) 0.0 ; yswitch [ 4 ] = 1 / 0.001 ; switchTypes [ 4 ] = ( int_T ) 3.0 ; idxOutSw [ 4 ] = ( ( int_T ) 0.0 ) - 1 ; switch_status [ 5 ] = 0 ; switch_status_init [ 5 ] = 0 ; gState [ 5 ] = ( int_T ) 0.0 ; yswitch [ 5 ] = 1 / 0.001 ; switchTypes [ 5 ] = ( int_T ) 3.0 ; idxOutSw [ 5 ] = ( ( int_T ) 0.0 ) - 1 ; } } rtDW . ceat33yomo = rtP . Delay1_InitialCondition_d0okqqbyaz ; rtDW . np4v4eaezh = rtP . Delay_InitialCondition_b1lbjxwxpj ; rtDW . nhi0bwiqwe = rtP . Delay_InitialCondition ; rtDW . jpmcmrdt3a = rtP . Delay1_InitialCondition ; rtDW . ocgieankjr = rtP . DiscreteTimeIntegrator_IC ; rtDW . jnortiucxw = 0.0 ; rtDW . fih3gfro2h = 0 ; rtDW . ocj52bygmn = 0.0 ; rtDW . mkoxzdqwi2 = 1U ; if ( ssIsFirstInitCond ( rtS ) ) { tmp = slIsRapidAcceleratorSimulating ( ) ; if ( tmp ) { tmp = ssGetGlobalInitialStatesAvailable ( rtS ) ; rtDW . mkoxzdqwi2 = ( uint8_T ) ! tmp ; } else { rtDW . mkoxzdqwi2 = 1U ; } } lxmgqv3obs ( & rtDW . emmdqoheic ) ; lxmgqv3obs ( & rtDW . jty1wsfjlj ) ; lxmgqv3obs ( & rtDW . kg410grc4m ) ; rtDW . ma3yw4utkh = 0.0 ; rtDW . cflpbnskfq = true ; rtDW . mfjr5e14xs = 0.0 ; rtDW . h3rmilnlg1 = true ; rtDW . nghwbebn4m = false ; rtDW . hxmang4whi = jmp4ftudat ; rtDW . m4pexi1xka = 0.0 ; rtDW . pqj3y2oaqf = true ; rtDW . gkeivfk3do = false ; rtDW . d0lzng0qrp = jmp4ftudat ; rtDW . dntfct2nvq = false ; rtDW . gmsb5tf0og = jmp4ftudat ; rtDW . obc0rz1ip3 = false ; rtDW . dy3zgavjvw = jmp4ftudat ; rtB . lezl4badfl = rtP . Tcm1_Y0 ; rtB . mmpoyjb255 = rtP . Tcm2_Y0 ; rtB . et115tvd5c = rtP . Tcm3_Y0 ; rtDW . jl5a3sor32 = false ; rtDW . d4deydkd2e = jmp4ftudat ; rtDW . ftys1qypo0 = false ; rtDW . bl3wth4gb4 = jmp4ftudat ; } void MdlEnable ( void ) { rtDW . k4luewptuo = true ; rtDW . nr4jtirdwo = 1U ; } void MdlStart ( void ) { { bool externalInputIsInDatasetFormat = false ; void * pISigstreamManager = rt_GetISigstreamManager ( rtS ) ; rtwISigstreamManagerGetInputIsInDatasetFormat ( pISigstreamManager , & externalInputIsInDatasetFormat ) ; if ( externalInputIsInDatasetFormat ) { } } { { { bool isStreamoutAlreadyRegistered = false ; { sdiSignalSourceInfoU srcInfo ; sdiLabelU loggedName = sdiGetLabelFromChars ( "" ) ; sdiLabelU origSigName = sdiGetLabelFromChars ( "" ) ; sdiLabelU propName = sdiGetLabelFromChars ( "" ) ; sdiLabelU blockPath = sdiGetLabelFromChars ( "based_FOC/Subsystem/Sensorless/Clark" ) ; sdiLabelU blockSID = sdiGetLabelFromChars ( "" ) ; sdiLabelU subPath = sdiGetLabelFromChars ( "" ) ; sdiDims sigDims ; sdiLabelU sigName = sdiGetLabelFromChars ( "" ) ; sdiAsyncRepoDataTypeHandle hDT = sdiAsyncRepoGetBuiltInDataTypeHandle ( DATA_TYPE_DOUBLE ) ; { sdiComplexity sigComplexity = REAL ; sdiSampleTimeContinuity stCont = SAMPLE_TIME_DISCRETE ; int_T sigDimsArray [ 1 ] = { ( int_T ) 1 } ; sigDims . nDims = 1 ; sigDims . dimensions = sigDimsArray ; srcInfo . numBlockPathElems = 1 ; srcInfo . fullBlockPath = ( sdiFullBlkPathU ) & blockPath ; srcInfo . SID = ( sdiSignalIDU ) & blockSID ; srcInfo . subPath = subPath ; srcInfo . portIndex = 0 + 1 ; srcInfo . signalName = sigName ; srcInfo . sigSourceUUID = 0 ; rtDW . f21icutcu2 . AQHandles = sdiStartAsyncioQueueCreation ( hDT , & srcInfo , rt_dataMapInfo . mmi . InstanceMap . fullPath , "101ad4b8-7e1c-4bd8-8aeb-e6c8c461b73b" , sigComplexity , & sigDims , DIMENSIONS_MODE_FIXED , stCont , "" ) ; sdiCompleteAsyncioQueueCreation ( rtDW . f21icutcu2 . AQHandles , hDT , & srcInfo ) ; if ( rtDW . f21icutcu2 . AQHandles ) { sdiSetSignalSampleTimeString ( rtDW . f21icutcu2 . AQHandles , "&#x89E6;&#x53D1;" , 0.0 , ssGetTFinal ( rtS ) ) ; sdiSetSignalRefRate ( rtDW . f21icutcu2 . AQHandles , 1.0E-6 ) ; sdiSetRunStartTime ( rtDW . f21icutcu2 . AQHandles , ssGetTaskTime ( rtS , 1 ) ) ; sdiAsyncRepoSetSignalExportSettings ( rtDW . f21icutcu2 . AQHandles , 1 , 0 ) ; sdiAsyncRepoSetSignalExportName ( rtDW . f21icutcu2 . AQHandles , loggedName , origSigName , propName ) ; } sdiFreeLabel ( sigName ) ; sdiFreeLabel ( loggedName ) ; sdiFreeLabel ( origSigName ) ; sdiFreeLabel ( propName ) ; sdiFreeLabel ( blockPath ) ; sdiFreeLabel ( blockSID ) ; sdiFreeLabel ( subPath ) ; } } if ( ! isStreamoutAlreadyRegistered ) { } } } } { { { bool isStreamoutAlreadyRegistered = false ; { sdiSignalSourceInfoU srcInfo ; sdiLabelU loggedName = sdiGetLabelFromChars ( "" ) ; sdiLabelU origSigName = sdiGetLabelFromChars ( "" ) ; sdiLabelU propName = sdiGetLabelFromChars ( "" ) ; sdiLabelU blockPath = sdiGetLabelFromChars ( "based_FOC/Subsystem/Sensorless/Clark" ) ; sdiLabelU blockSID = sdiGetLabelFromChars ( "" ) ; sdiLabelU subPath = sdiGetLabelFromChars ( "" ) ; sdiDims sigDims ; sdiLabelU sigName = sdiGetLabelFromChars ( "" ) ; sdiAsyncRepoDataTypeHandle hDT = sdiAsyncRepoGetBuiltInDataTypeHandle ( DATA_TYPE_DOUBLE ) ; { sdiComplexity sigComplexity = REAL ; sdiSampleTimeContinuity stCont = SAMPLE_TIME_DISCRETE ; int_T sigDimsArray [ 1 ] = { ( int_T ) 1 } ; sigDims . nDims = 1 ; sigDims . dimensions = sigDimsArray ; srcInfo . numBlockPathElems = 1 ; srcInfo . fullBlockPath = ( sdiFullBlkPathU ) & blockPath ; srcInfo . SID = ( sdiSignalIDU ) & blockSID ; srcInfo . subPath = subPath ; srcInfo . portIndex = 1 + 1 ; srcInfo . signalName = sigName ; srcInfo . sigSourceUUID = 0 ; rtDW . an4rwyup45 . AQHandles = sdiStartAsyncioQueueCreation ( hDT , & srcInfo , rt_dataMapInfo . mmi . InstanceMap . fullPath , "09e51657-dfcd-45fe-af16-b60903312838" , sigComplexity , & sigDims , DIMENSIONS_MODE_FIXED , stCont , "" ) ; sdiCompleteAsyncioQueueCreation ( rtDW . an4rwyup45 . AQHandles , hDT , & srcInfo ) ; if ( rtDW . an4rwyup45 . AQHandles ) { sdiSetSignalSampleTimeString ( rtDW . an4rwyup45 . AQHandles , "&#x89E6;&#x53D1;" , 0.0 , ssGetTFinal ( rtS ) ) ; sdiSetSignalRefRate ( rtDW . an4rwyup45 . AQHandles , 1.0E-6 ) ; sdiSetRunStartTime ( rtDW . an4rwyup45 . AQHandles , ssGetTaskTime ( rtS , 1 ) ) ; sdiAsyncRepoSetSignalExportSettings ( rtDW . an4rwyup45 . AQHandles , 1 , 0 ) ; sdiAsyncRepoSetSignalExportName ( rtDW . an4rwyup45 . AQHandles , loggedName , origSigName , propName ) ; } sdiFreeLabel ( sigName ) ; sdiFreeLabel ( loggedName ) ; sdiFreeLabel ( origSigName ) ; sdiFreeLabel ( propName ) ; sdiFreeLabel ( blockPath ) ; sdiFreeLabel ( blockSID ) ; sdiFreeLabel ( subPath ) ; } } if ( ! isStreamoutAlreadyRegistered ) { } } } } { { { bool isStreamoutAlreadyRegistered = false ; { sdiSignalSourceInfoU srcInfo ; sdiLabelU loggedName = sdiGetLabelFromChars ( "polarplot1:1" ) ; sdiLabelU origSigName = sdiGetLabelFromChars ( "" ) ; sdiLabelU propName = sdiGetLabelFromChars ( "polarplot1:1" ) ; sdiLabelU blockPath = sdiGetLabelFromChars ( "based_FOC/Subsystem/Sensorless/XY Graph1" ) ; sdiLabelU blockSID = sdiGetLabelFromChars ( "" ) ; sdiLabelU subPath = sdiGetLabelFromChars ( "" ) ; sdiDims sigDims ; sdiLabelU sigName = sdiGetLabelFromChars ( "polarplot1:1" ) ; sdiAsyncRepoDataTypeHandle hDT = sdiAsyncRepoGetBuiltInDataTypeHandle ( DATA_TYPE_DOUBLE ) ; { sdiComplexity sigComplexity = REAL ; sdiSampleTimeContinuity stCont = SAMPLE_TIME_DISCRETE ; int_T sigDimsArray [ 1 ] = { ( int_T ) 1 } ; sigDims . nDims = 1 ; sigDims . dimensions = sigDimsArray ; srcInfo . numBlockPathElems = 1 ; srcInfo . fullBlockPath = ( sdiFullBlkPathU ) & blockPath ; srcInfo . SID = ( sdiSignalIDU ) & blockSID ; srcInfo . subPath = subPath ; srcInfo . portIndex = 0 + 1 ; srcInfo . signalName = sigName ; srcInfo . sigSourceUUID = 0 ; rtDW . nigjqkrdgh . AQHandles = sdiStartAsyncioQueueCreation ( hDT , & srcInfo , rt_dataMapInfo . mmi . InstanceMap . fullPath , "2ddcd770-bb65-4e2d-96b0-33c66c76ab6d" , sigComplexity , & sigDims , DIMENSIONS_MODE_FIXED , stCont , "" ) ; sdiCompleteAsyncioQueueCreation ( rtDW . nigjqkrdgh . AQHandles , hDT , & srcInfo ) ; if ( rtDW . nigjqkrdgh . AQHandles ) { sdiSetSignalSampleTimeString ( rtDW . nigjqkrdgh . AQHandles , "&#x89E6;&#x53D1;" , 0.0 , ssGetTFinal ( rtS ) ) ; sdiSetSignalRefRate ( rtDW . nigjqkrdgh . AQHandles , 1.0E-6 ) ; sdiSetRunStartTime ( rtDW . nigjqkrdgh . AQHandles , ssGetTaskTime ( rtS , 1 ) ) ; sdiAsyncRepoSetSignalExportSettings ( rtDW . nigjqkrdgh . AQHandles , 1 , 0 ) ; sdiAsyncRepoSetSignalExportName ( rtDW . nigjqkrdgh . AQHandles , loggedName , origSigName , propName ) ; sdiAsyncRepoSetBlockPathDomain ( rtDW . nigjqkrdgh . AQHandles ) ; } sdiFreeLabel ( sigName ) ; sdiFreeLabel ( loggedName ) ; sdiFreeLabel ( origSigName ) ; sdiFreeLabel ( propName ) ; sdiFreeLabel ( blockPath ) ; sdiFreeLabel ( blockSID ) ; sdiFreeLabel ( subPath ) ; } } if ( ! isStreamoutAlreadyRegistered ) { } } } } { { { bool isStreamoutAlreadyRegistered = false ; { sdiSignalSourceInfoU srcInfo ; sdiLabelU loggedName = sdiGetLabelFromChars ( "polarplot1:2" ) ; sdiLabelU origSigName = sdiGetLabelFromChars ( "" ) ; sdiLabelU propName = sdiGetLabelFromChars ( "polarplot1:2" ) ; sdiLabelU blockPath = sdiGetLabelFromChars ( "based_FOC/Subsystem/Sensorless/XY Graph1" ) ; sdiLabelU blockSID = sdiGetLabelFromChars ( "" ) ; sdiLabelU subPath = sdiGetLabelFromChars ( "" ) ; sdiDims sigDims ; sdiLabelU sigName = sdiGetLabelFromChars ( "polarplot1:2" ) ; sdiAsyncRepoDataTypeHandle hDT = sdiAsyncRepoGetBuiltInDataTypeHandle ( DATA_TYPE_DOUBLE ) ; { sdiComplexity sigComplexity = REAL ; sdiSampleTimeContinuity stCont = SAMPLE_TIME_DISCRETE ; int_T sigDimsArray [ 1 ] = { ( int_T ) 1 } ; sigDims . nDims = 1 ; sigDims . dimensions = sigDimsArray ; srcInfo . numBlockPathElems = 1 ; srcInfo . fullBlockPath = ( sdiFullBlkPathU ) & blockPath ; srcInfo . SID = ( sdiSignalIDU ) & blockSID ; srcInfo . subPath = subPath ; srcInfo . portIndex = 1 + 1 ; srcInfo . signalName = sigName ; srcInfo . sigSourceUUID = 0 ; rtDW . pqr5ti5djs . AQHandles = sdiStartAsyncioQueueCreation ( hDT , & srcInfo , rt_dataMapInfo . mmi . InstanceMap . fullPath , "297eb3d4-65e4-433f-8d22-565d97282d19" , sigComplexity , & sigDims , DIMENSIONS_MODE_FIXED , stCont , "" ) ; sdiCompleteAsyncioQueueCreation ( rtDW . pqr5ti5djs . AQHandles , hDT , & srcInfo ) ; if ( rtDW . pqr5ti5djs . AQHandles ) { sdiSetSignalSampleTimeString ( rtDW . pqr5ti5djs . AQHandles , "&#x89E6;&#x53D1;" , 0.0 , ssGetTFinal ( rtS ) ) ; sdiSetSignalRefRate ( rtDW . pqr5ti5djs . AQHandles , 1.0E-6 ) ; sdiSetRunStartTime ( rtDW . pqr5ti5djs . AQHandles , ssGetTaskTime ( rtS , 1 ) ) ; sdiAsyncRepoSetSignalExportSettings ( rtDW . pqr5ti5djs . AQHandles , 1 , 0 ) ; sdiAsyncRepoSetSignalExportName ( rtDW . pqr5ti5djs . AQHandles , loggedName , origSigName , propName ) ; sdiAsyncRepoSetBlockPathDomain ( rtDW . pqr5ti5djs . AQHandles ) ; } sdiFreeLabel ( sigName ) ; sdiFreeLabel ( loggedName ) ; sdiFreeLabel ( origSigName ) ; sdiFreeLabel ( propName ) ; sdiFreeLabel ( blockPath ) ; sdiFreeLabel ( blockSID ) ; sdiFreeLabel ( subPath ) ; } } if ( ! isStreamoutAlreadyRegistered ) { } } } } { { { bool isStreamoutAlreadyRegistered = false ; { sdiSignalSourceInfoU srcInfo ; sdiLabelU loggedName = sdiGetLabelFromChars ( "" ) ; sdiLabelU origSigName = sdiGetLabelFromChars ( "" ) ; sdiLabelU propName = sdiGetLabelFromChars ( "" ) ; sdiLabelU blockPath = sdiGetLabelFromChars ( "based_FOC/Subsystem/Sensorless/Anti_Park1/1-D Lookup Table1" ) ; sdiLabelU blockSID = sdiGetLabelFromChars ( "" ) ; sdiLabelU subPath = sdiGetLabelFromChars ( "" ) ; sdiDims sigDims ; sdiLabelU sigName = sdiGetLabelFromChars ( "" ) ; sdiAsyncRepoDataTypeHandle hDT = sdiAsyncRepoGetBuiltInDataTypeHandle ( DATA_TYPE_DOUBLE ) ; { sdiComplexity sigComplexity = REAL ; sdiSampleTimeContinuity stCont = SAMPLE_TIME_DISCRETE ; int_T sigDimsArray [ 1 ] = { ( int_T ) 1 } ; sigDims . nDims = 1 ; sigDims . dimensions = sigDimsArray ; srcInfo . numBlockPathElems = 1 ; srcInfo . fullBlockPath = ( sdiFullBlkPathU ) & blockPath ; srcInfo . SID = ( sdiSignalIDU ) & blockSID ; srcInfo . subPath = subPath ; srcInfo . portIndex = 0 + 1 ; srcInfo . signalName = sigName ; srcInfo . sigSourceUUID = 0 ; rtDW . ink55qldzx . AQHandles = sdiStartAsyncioQueueCreation ( hDT , & srcInfo , rt_dataMapInfo . mmi . InstanceMap . fullPath , "56cb969b-ddf6-4cd2-bbdd-a48936d907bb" , sigComplexity , & sigDims , DIMENSIONS_MODE_FIXED , stCont , "" ) ; sdiCompleteAsyncioQueueCreation ( rtDW . ink55qldzx . AQHandles , hDT , & srcInfo ) ; if ( rtDW . ink55qldzx . AQHandles ) { sdiSetSignalSampleTimeString ( rtDW . ink55qldzx . AQHandles , "&#x89E6;&#x53D1;" , 0.0 , ssGetTFinal ( rtS ) ) ; sdiSetSignalRefRate ( rtDW . ink55qldzx . AQHandles , 1.0E-6 ) ; sdiSetRunStartTime ( rtDW . ink55qldzx . AQHandles , ssGetTaskTime ( rtS , 1 ) ) ; sdiAsyncRepoSetSignalExportSettings ( rtDW . ink55qldzx . AQHandles , 1 , 0 ) ; sdiAsyncRepoSetSignalExportName ( rtDW . ink55qldzx . AQHandles , loggedName , origSigName , propName ) ; } sdiFreeLabel ( sigName ) ; sdiFreeLabel ( loggedName ) ; sdiFreeLabel ( origSigName ) ; sdiFreeLabel ( propName ) ; sdiFreeLabel ( blockPath ) ; sdiFreeLabel ( blockSID ) ; sdiFreeLabel ( subPath ) ; } } if ( ! isStreamoutAlreadyRegistered ) { } } } } { { { bool isStreamoutAlreadyRegistered = false ; { sdiSignalSourceInfoU srcInfo ; sdiLabelU loggedName = sdiGetLabelFromChars ( "" ) ; sdiLabelU origSigName = sdiGetLabelFromChars ( "" ) ; sdiLabelU propName = sdiGetLabelFromChars ( "" ) ; sdiLabelU blockPath = sdiGetLabelFromChars ( "based_FOC/Subsystem/Sensorless/Anti_Park1/Fcn5" ) ; sdiLabelU blockSID = sdiGetLabelFromChars ( "" ) ; sdiLabelU subPath = sdiGetLabelFromChars ( "" ) ; sdiDims sigDims ; sdiLabelU sigName = sdiGetLabelFromChars ( "" ) ; sdiAsyncRepoDataTypeHandle hDT = sdiAsyncRepoGetBuiltInDataTypeHandle ( DATA_TYPE_DOUBLE ) ; { sdiComplexity sigComplexity = REAL ; sdiSampleTimeContinuity stCont = SAMPLE_TIME_DISCRETE ; int_T sigDimsArray [ 1 ] = { ( int_T ) 1 } ; sigDims . nDims = 1 ; sigDims . dimensions = sigDimsArray ; srcInfo . numBlockPathElems = 1 ; srcInfo . fullBlockPath = ( sdiFullBlkPathU ) & blockPath ; srcInfo . SID = ( sdiSignalIDU ) & blockSID ; srcInfo . subPath = subPath ; srcInfo . portIndex = 0 + 1 ; srcInfo . signalName = sigName ; srcInfo . sigSourceUUID = 0 ; rtDW . bhkkrlprsc . AQHandles = sdiStartAsyncioQueueCreation ( hDT , & srcInfo , rt_dataMapInfo . mmi . InstanceMap . fullPath , "47a7da38-2aca-47ca-b4c3-b040cfd92b3b" , sigComplexity , & sigDims , DIMENSIONS_MODE_FIXED , stCont , "" ) ; sdiCompleteAsyncioQueueCreation ( rtDW . bhkkrlprsc . AQHandles , hDT , & srcInfo ) ; if ( rtDW . bhkkrlprsc . AQHandles ) { sdiSetSignalSampleTimeString ( rtDW . bhkkrlprsc . AQHandles , "&#x89E6;&#x53D1;" , 0.0 , ssGetTFinal ( rtS ) ) ; sdiSetSignalRefRate ( rtDW . bhkkrlprsc . AQHandles , 1.0E-6 ) ; sdiSetRunStartTime ( rtDW . bhkkrlprsc . AQHandles , ssGetTaskTime ( rtS , 1 ) ) ; sdiAsyncRepoSetSignalExportSettings ( rtDW . bhkkrlprsc . AQHandles , 1 , 0 ) ; sdiAsyncRepoSetSignalExportName ( rtDW . bhkkrlprsc . AQHandles , loggedName , origSigName , propName ) ; } sdiFreeLabel ( sigName ) ; sdiFreeLabel ( loggedName ) ; sdiFreeLabel ( origSigName ) ; sdiFreeLabel ( propName ) ; sdiFreeLabel ( blockPath ) ; sdiFreeLabel ( blockSID ) ; sdiFreeLabel ( subPath ) ; } } if ( ! isStreamoutAlreadyRegistered ) { } } } } { { { bool isStreamoutAlreadyRegistered = false ; { sdiSignalSourceInfoU srcInfo ; sdiLabelU loggedName = sdiGetLabelFromChars ( "U_alpha" ) ; sdiLabelU origSigName = sdiGetLabelFromChars ( "U_alpha" ) ; sdiLabelU propName = sdiGetLabelFromChars ( "" ) ; sdiLabelU blockPath = sdiGetLabelFromChars ( "based_FOC/Subsystem/Sensorless/Anti_Park1/Product2" ) ; sdiLabelU blockSID = sdiGetLabelFromChars ( "" ) ; sdiLabelU subPath = sdiGetLabelFromChars ( "" ) ; sdiDims sigDims ; sdiLabelU sigName = sdiGetLabelFromChars ( "U_alpha" ) ; sdiAsyncRepoDataTypeHandle hDT = sdiAsyncRepoGetBuiltInDataTypeHandle ( DATA_TYPE_DOUBLE ) ; { sdiComplexity sigComplexity = REAL ; sdiSampleTimeContinuity stCont = SAMPLE_TIME_DISCRETE ; int_T sigDimsArray [ 1 ] = { ( int_T ) 1 } ; sigDims . nDims = 1 ; sigDims . dimensions = sigDimsArray ; srcInfo . numBlockPathElems = 1 ; srcInfo . fullBlockPath = ( sdiFullBlkPathU ) & blockPath ; srcInfo . SID = ( sdiSignalIDU ) & blockSID ; srcInfo . subPath = subPath ; srcInfo . portIndex = 0 + 1 ; srcInfo . signalName = sigName ; srcInfo . sigSourceUUID = 0 ; rtDW . kxwhg3dymm . AQHandles = sdiStartAsyncioQueueCreation ( hDT , & srcInfo , rt_dataMapInfo . mmi . InstanceMap . fullPath , "84a11dd9-1d55-4d7e-a5aa-ba447bc88cce" , sigComplexity , & sigDims , DIMENSIONS_MODE_FIXED , stCont , "" ) ; sdiCompleteAsyncioQueueCreation ( rtDW . kxwhg3dymm . AQHandles , hDT , & srcInfo ) ; if ( rtDW . kxwhg3dymm . AQHandles ) { sdiSetSignalSampleTimeString ( rtDW . kxwhg3dymm . AQHandles , "&#x89E6;&#x53D1;" , 0.0 , ssGetTFinal ( rtS ) ) ; sdiSetSignalRefRate ( rtDW . kxwhg3dymm . AQHandles , 1.0E-6 ) ; sdiSetRunStartTime ( rtDW . kxwhg3dymm . AQHandles , ssGetTaskTime ( rtS , 1 ) ) ; sdiAsyncRepoSetSignalExportSettings ( rtDW . kxwhg3dymm . AQHandles , 1 , 0 ) ; sdiAsyncRepoSetSignalExportName ( rtDW . kxwhg3dymm . AQHandles , loggedName , origSigName , propName ) ; } sdiFreeLabel ( sigName ) ; sdiFreeLabel ( loggedName ) ; sdiFreeLabel ( origSigName ) ; sdiFreeLabel ( propName ) ; sdiFreeLabel ( blockPath ) ; sdiFreeLabel ( blockSID ) ; sdiFreeLabel ( subPath ) ; } } if ( ! isStreamoutAlreadyRegistered ) { } } } } { { { bool isStreamoutAlreadyRegistered = false ; { sdiSignalSourceInfoU srcInfo ; sdiLabelU loggedName = sdiGetLabelFromChars ( "U_beta" ) ; sdiLabelU origSigName = sdiGetLabelFromChars ( "U_beta" ) ; sdiLabelU propName = sdiGetLabelFromChars ( "" ) ; sdiLabelU blockPath = sdiGetLabelFromChars ( "based_FOC/Subsystem/Sensorless/Anti_Park1/Product3" ) ; sdiLabelU blockSID = sdiGetLabelFromChars ( "" ) ; sdiLabelU subPath = sdiGetLabelFromChars ( "" ) ; sdiDims sigDims ; sdiLabelU sigName = sdiGetLabelFromChars ( "U_beta" ) ; sdiAsyncRepoDataTypeHandle hDT = sdiAsyncRepoGetBuiltInDataTypeHandle ( DATA_TYPE_DOUBLE ) ; { sdiComplexity sigComplexity = REAL ; sdiSampleTimeContinuity stCont = SAMPLE_TIME_DISCRETE ; int_T sigDimsArray [ 1 ] = { ( int_T ) 1 } ; sigDims . nDims = 1 ; sigDims . dimensions = sigDimsArray ; srcInfo . numBlockPathElems = 1 ; srcInfo . fullBlockPath = ( sdiFullBlkPathU ) & blockPath ; srcInfo . SID = ( sdiSignalIDU ) & blockSID ; srcInfo . subPath = subPath ; srcInfo . portIndex = 0 + 1 ; srcInfo . signalName = sigName ; srcInfo . sigSourceUUID = 0 ; rtDW . gyf1oq3zs3 . AQHandles = sdiStartAsyncioQueueCreation ( hDT , & srcInfo , rt_dataMapInfo . mmi . InstanceMap . fullPath , "320aa3a5-8f81-4922-8e99-e8d9b3242759" , sigComplexity , & sigDims , DIMENSIONS_MODE_FIXED , stCont , "" ) ; sdiCompleteAsyncioQueueCreation ( rtDW . gyf1oq3zs3 . AQHandles , hDT , & srcInfo ) ; if ( rtDW . gyf1oq3zs3 . AQHandles ) { sdiSetSignalSampleTimeString ( rtDW . gyf1oq3zs3 . AQHandles , "&#x89E6;&#x53D1;" , 0.0 , ssGetTFinal ( rtS ) ) ; sdiSetSignalRefRate ( rtDW . gyf1oq3zs3 . AQHandles , 1.0E-6 ) ; sdiSetRunStartTime ( rtDW . gyf1oq3zs3 . AQHandles , ssGetTaskTime ( rtS , 1 ) ) ; sdiAsyncRepoSetSignalExportSettings ( rtDW . gyf1oq3zs3 . AQHandles , 1 , 0 ) ; sdiAsyncRepoSetSignalExportName ( rtDW . gyf1oq3zs3 . AQHandles , loggedName , origSigName , propName ) ; } sdiFreeLabel ( sigName ) ; sdiFreeLabel ( loggedName ) ; sdiFreeLabel ( origSigName ) ; sdiFreeLabel ( propName ) ; sdiFreeLabel ( blockPath ) ; sdiFreeLabel ( blockSID ) ; sdiFreeLabel ( subPath ) ; } } if ( ! isStreamoutAlreadyRegistered ) { } } } } { { { bool isStreamoutAlreadyRegistered = false ; { sdiSignalSourceInfoU srcInfo ; sdiLabelU loggedName = sdiGetLabelFromChars ( "U_alpha" ) ; sdiLabelU origSigName = sdiGetLabelFromChars ( "U_alpha" ) ; sdiLabelU propName = sdiGetLabelFromChars ( "U_alpha" ) ; sdiLabelU blockPath = sdiGetLabelFromChars ( "based_FOC/Subsystem/Sensorless/Anti_Park1/XY Graph" ) ; sdiLabelU blockSID = sdiGetLabelFromChars ( "" ) ; sdiLabelU subPath = sdiGetLabelFromChars ( "" ) ; sdiDims sigDims ; sdiLabelU sigName = sdiGetLabelFromChars ( "U_alpha" ) ; sdiAsyncRepoDataTypeHandle hDT = sdiAsyncRepoGetBuiltInDataTypeHandle ( DATA_TYPE_DOUBLE ) ; { sdiComplexity sigComplexity = REAL ; sdiSampleTimeContinuity stCont = SAMPLE_TIME_DISCRETE ; int_T sigDimsArray [ 1 ] = { ( int_T ) 1 } ; sigDims . nDims = 1 ; sigDims . dimensions = sigDimsArray ; srcInfo . numBlockPathElems = 1 ; srcInfo . fullBlockPath = ( sdiFullBlkPathU ) & blockPath ; srcInfo . SID = ( sdiSignalIDU ) & blockSID ; srcInfo . subPath = subPath ; srcInfo . portIndex = 0 + 1 ; srcInfo . signalName = sigName ; srcInfo . sigSourceUUID = 0 ; rtDW . ipoiwfl4sg . AQHandles = sdiStartAsyncioQueueCreation ( hDT , & srcInfo , rt_dataMapInfo . mmi . InstanceMap . fullPath , "0eda9c10-32ef-4a79-a625-7266fec6ee66" , sigComplexity , & sigDims , DIMENSIONS_MODE_FIXED , stCont , "" ) ; sdiCompleteAsyncioQueueCreation ( rtDW . ipoiwfl4sg . AQHandles , hDT , & srcInfo ) ; if ( rtDW . ipoiwfl4sg . AQHandles ) { sdiSetSignalSampleTimeString ( rtDW . ipoiwfl4sg . AQHandles , "&#x89E6;&#x53D1;" , 0.0 , ssGetTFinal ( rtS ) ) ; sdiSetSignalRefRate ( rtDW . ipoiwfl4sg . AQHandles , 1.0E-6 ) ; sdiSetRunStartTime ( rtDW . ipoiwfl4sg . AQHandles , ssGetTaskTime ( rtS , 1 ) ) ; sdiAsyncRepoSetSignalExportSettings ( rtDW . ipoiwfl4sg . AQHandles , 1 , 0 ) ; sdiAsyncRepoSetSignalExportName ( rtDW . ipoiwfl4sg . AQHandles , loggedName , origSigName , propName ) ; sdiAsyncRepoSetBlockPathDomain ( rtDW . ipoiwfl4sg . AQHandles ) ; } sdiFreeLabel ( sigName ) ; sdiFreeLabel ( loggedName ) ; sdiFreeLabel ( origSigName ) ; sdiFreeLabel ( propName ) ; sdiFreeLabel ( blockPath ) ; sdiFreeLabel ( blockSID ) ; sdiFreeLabel ( subPath ) ; } } if ( ! isStreamoutAlreadyRegistered ) { } } } } { { { bool isStreamoutAlreadyRegistered = false ; { sdiSignalSourceInfoU srcInfo ; sdiLabelU loggedName = sdiGetLabelFromChars ( "U_beta" ) ; sdiLabelU origSigName = sdiGetLabelFromChars ( "U_beta" ) ; sdiLabelU propName = sdiGetLabelFromChars ( "U_beta" ) ; sdiLabelU blockPath = sdiGetLabelFromChars ( "based_FOC/Subsystem/Sensorless/Anti_Park1/XY Graph" ) ; sdiLabelU blockSID = sdiGetLabelFromChars ( "" ) ; sdiLabelU subPath = sdiGetLabelFromChars ( "" ) ; sdiDims sigDims ; sdiLabelU sigName = sdiGetLabelFromChars ( "U_beta" ) ; sdiAsyncRepoDataTypeHandle hDT = sdiAsyncRepoGetBuiltInDataTypeHandle ( DATA_TYPE_DOUBLE ) ; { sdiComplexity sigComplexity = REAL ; sdiSampleTimeContinuity stCont = SAMPLE_TIME_DISCRETE ; int_T sigDimsArray [ 1 ] = { ( int_T ) 1 } ; sigDims . nDims = 1 ; sigDims . dimensions = sigDimsArray ; srcInfo . numBlockPathElems = 1 ; srcInfo . fullBlockPath = ( sdiFullBlkPathU ) & blockPath ; srcInfo . SID = ( sdiSignalIDU ) & blockSID ; srcInfo . subPath = subPath ; srcInfo . portIndex = 1 + 1 ; srcInfo . signalName = sigName ; srcInfo . sigSourceUUID = 0 ; rtDW . kanxmkuey4 . AQHandles = sdiStartAsyncioQueueCreation ( hDT , & srcInfo , rt_dataMapInfo . mmi . InstanceMap . fullPath , "de850ebd-89a6-48fb-a9f3-850c059a3e78" , sigComplexity , & sigDims , DIMENSIONS_MODE_FIXED , stCont , "" ) ; sdiCompleteAsyncioQueueCreation ( rtDW . kanxmkuey4 . AQHandles , hDT , & srcInfo ) ; if ( rtDW . kanxmkuey4 . AQHandles ) { sdiSetSignalSampleTimeString ( rtDW . kanxmkuey4 . AQHandles , "&#x89E6;&#x53D1;" , 0.0 , ssGetTFinal ( rtS ) ) ; sdiSetSignalRefRate ( rtDW . kanxmkuey4 . AQHandles , 1.0E-6 ) ; sdiSetRunStartTime ( rtDW . kanxmkuey4 . AQHandles , ssGetTaskTime ( rtS , 1 ) ) ; sdiAsyncRepoSetSignalExportSettings ( rtDW . kanxmkuey4 . AQHandles , 1 , 0 ) ; sdiAsyncRepoSetSignalExportName ( rtDW . kanxmkuey4 . AQHandles , loggedName , origSigName , propName ) ; sdiAsyncRepoSetBlockPathDomain ( rtDW . kanxmkuey4 . AQHandles ) ; } sdiFreeLabel ( sigName ) ; sdiFreeLabel ( loggedName ) ; sdiFreeLabel ( origSigName ) ; sdiFreeLabel ( propName ) ; sdiFreeLabel ( blockPath ) ; sdiFreeLabel ( blockSID ) ; sdiFreeLabel ( subPath ) ; } } if ( ! isStreamoutAlreadyRegistered ) { } } } } { { { bool isStreamoutAlreadyRegistered = false ; { sdiSignalSourceInfoU srcInfo ; sdiLabelU sigName = sdiGetLabelFromChars ( "" ) ; sdiLabelU blockPath = sdiGetLabelFromChars ( "based_FOC/Subsystem4" ) ; sdiLabelU blockSID = sdiGetLabelFromChars ( "" ) ; sdiLabelU subPath = sdiGetLabelFromChars ( "" ) ; const char_T * leafUnits [ 3 ] = { "" , "" , "" } ; sdiVirtualBusLeafElementInfoU leafElInfo [ 3 ] ; int_T childDimsArray0 [ 1 ] = { ( int_T ) 1 } ; int_T childDimsArray1 [ 1 ] = { ( int_T ) 1 } ; int_T childDimsArray2 [ 1 ] = { ( int_T ) 1 } ; { sdiAsyncRepoDataTypeHandle hDT = sdiAsyncRepoGetBuiltInDataTypeHandle ( DATA_TYPE_DOUBLE ) ; leafElInfo [ 0 ] . hDataType = hDT ; leafElInfo [ 0 ] . signalName = sdiGetLabelFromChars ( ".ias" ) ; leafElInfo [ 0 ] . dims . nDims = 1 ; leafElInfo [ 0 ] . dims . dimensions = childDimsArray0 ; leafElInfo [ 0 ] . dimsMode = DIMENSIONS_MODE_FIXED ; leafElInfo [ 0 ] . complexity = REAL ; leafElInfo [ 0 ] . isLinearInterp = 0 ; leafElInfo [ 0 ] . units = leafUnits [ 0 ] ; } { sdiAsyncRepoDataTypeHandle hDT = sdiAsyncRepoGetBuiltInDataTypeHandle ( DATA_TYPE_DOUBLE ) ; leafElInfo [ 1 ] . hDataType = hDT ; leafElInfo [ 1 ] . signalName = sdiGetLabelFromChars ( ".ibs" ) ; leafElInfo [ 1 ] . dims . nDims = 1 ; leafElInfo [ 1 ] . dims . dimensions = childDimsArray1 ; leafElInfo [ 1 ] . dimsMode = DIMENSIONS_MODE_FIXED ; leafElInfo [ 1 ] . complexity = REAL ; leafElInfo [ 1 ] . isLinearInterp = 0 ; leafElInfo [ 1 ] . units = leafUnits [ 1 ] ; } { sdiAsyncRepoDataTypeHandle hDT = sdiAsyncRepoGetBuiltInDataTypeHandle ( DATA_TYPE_DOUBLE ) ; leafElInfo [ 2 ] . hDataType = hDT ; leafElInfo [ 2 ] . signalName = sdiGetLabelFromChars ( ".ics" ) ; leafElInfo [ 2 ] . dims . nDims = 1 ; leafElInfo [ 2 ] . dims . dimensions = childDimsArray2 ; leafElInfo [ 2 ] . dimsMode = DIMENSIONS_MODE_FIXED ; leafElInfo [ 2 ] . complexity = REAL ; leafElInfo [ 2 ] . isLinearInterp = 0 ; leafElInfo [ 2 ] . units = leafUnits [ 2 ] ; } srcInfo . numBlockPathElems = 1 ; srcInfo . fullBlockPath = ( sdiFullBlkPathU ) & blockPath ; srcInfo . SID = ( sdiSignalIDU ) & blockSID ; srcInfo . subPath = subPath ; srcInfo . portIndex = 1 + 1 ; srcInfo . signalName = sigName ; srcInfo . sigSourceUUID = 0 ; sdiCreateAsyncQueuesForVirtualBusWithExportSettings ( & srcInfo , rt_dataMapInfo . mmi . InstanceMap . fullPath , "28f83fd5-2912-4dc8-a750-7d49d4b0654c" , 3 , leafElInfo , & rtDW . kczid045yc . AQHandles [ 0 ] , 1 , 0 , "" , "" , "" ) ; slsaCacheDWorkDataForSimTargetOP ( rtS , & rtDW . kczid045yc . AQHandles [ 0 ] , 3 * sizeof ( & rtDW . kczid045yc . AQHandles [ 0 ] ) ) ; if ( rtDW . kczid045yc . AQHandles [ 0 ] ) { sdiLabelU loggedName = sdiGetLabelFromChars ( "" ) ; sdiLabelU origSigName = sdiGetLabelFromChars ( "" ) ; sdiLabelU propName = sdiGetLabelFromChars ( "" ) ; sdiSetSignalSampleTimeString ( rtDW . kczid045yc . AQHandles [ 0 ] , "1e-06" , 1.0E-6 , ssGetTFinal ( rtS ) ) ; sdiSetSignalRefRate ( rtDW . kczid045yc . AQHandles [ 0 ] , 0.0 ) ; sdiSetRunStartTime ( rtDW . kczid045yc . AQHandles [ 0 ] , ssGetTaskTime ( rtS , 1 ) ) ; sdiAsyncRepoSetSignalExportSettings ( rtDW . kczid045yc . AQHandles [ 0 ] , 1 , 0 ) ; sdiAsyncRepoSetSignalExportName ( rtDW . kczid045yc . AQHandles [ 0 ] , loggedName , origSigName , propName ) ; sdiSetSignalSampleTimeString ( rtDW . kczid045yc . AQHandles [ 1 ] , "1e-06" , 1.0E-6 , ssGetTFinal ( rtS ) ) ; sdiSetSignalRefRate ( rtDW . kczid045yc . AQHandles [ 1 ] , 0.0 ) ; sdiSetRunStartTime ( rtDW . kczid045yc . AQHandles [ 1 ] , ssGetTaskTime ( rtS , 1 ) ) ; sdiAsyncRepoSetSignalExportSettings ( rtDW . kczid045yc . AQHandles [ 1 ] , 1 , 0 ) ; sdiAsyncRepoSetSignalExportName ( rtDW . kczid045yc . AQHandles [ 1 ] , loggedName , origSigName , propName ) ; sdiSetSignalSampleTimeString ( rtDW . kczid045yc . AQHandles [ 2 ] , "1e-06" , 1.0E-6 , ssGetTFinal ( rtS ) ) ; sdiSetSignalRefRate ( rtDW . kczid045yc . AQHandles [ 2 ] , 0.0 ) ; sdiSetRunStartTime ( rtDW . kczid045yc . AQHandles [ 2 ] , ssGetTaskTime ( rtS , 1 ) ) ; sdiAsyncRepoSetSignalExportSettings ( rtDW . kczid045yc . AQHandles [ 2 ] , 1 , 0 ) ; sdiAsyncRepoSetSignalExportName ( rtDW . kczid045yc . AQHandles [ 2 ] , loggedName , origSigName , propName ) ; sdiFreeLabel ( loggedName ) ; sdiFreeLabel ( origSigName ) ; sdiFreeLabel ( propName ) ; } sdiFreeLabel ( sigName ) ; sdiFreeLabel ( blockPath ) ; sdiFreeLabel ( blockSID ) ; sdiFreeLabel ( subPath ) ; sdiFreeName ( leafElInfo [ 0 ] . signalName ) ; sdiFreeName ( leafElInfo [ 1 ] . signalName ) ; sdiFreeName ( leafElInfo [ 2 ] . signalName ) ; } if ( ! isStreamoutAlreadyRegistered ) { } } } } { { { bool isStreamoutAlreadyRegistered = false ; { sdiSignalSourceInfoU srcInfo ; sdiLabelU loggedName = sdiGetLabelFromChars ( "Wm" ) ; sdiLabelU origSigName = sdiGetLabelFromChars ( "Wm" ) ; sdiLabelU propName = sdiGetLabelFromChars ( "" ) ; sdiLabelU blockPath = sdiGetLabelFromChars ( "based_FOC/Subsystem4" ) ; sdiLabelU blockSID = sdiGetLabelFromChars ( "" ) ; sdiLabelU subPath = sdiGetLabelFromChars ( "" ) ; sdiDims sigDims ; sdiLabelU sigName = sdiGetLabelFromChars ( "Wm" ) ; sdiAsyncRepoDataTypeHandle hDT = sdiAsyncRepoGetBuiltInDataTypeHandle ( DATA_TYPE_DOUBLE ) ; { sdiComplexity sigComplexity = REAL ; sdiSampleTimeContinuity stCont = SAMPLE_TIME_DISCRETE ; int_T sigDimsArray [ 1 ] = { ( int_T ) 1 } ; sigDims . nDims = 1 ; sigDims . dimensions = sigDimsArray ; srcInfo . numBlockPathElems = 1 ; srcInfo . fullBlockPath = ( sdiFullBlkPathU ) & blockPath ; srcInfo . SID = ( sdiSignalIDU ) & blockSID ; srcInfo . subPath = subPath ; srcInfo . portIndex = 2 + 1 ; srcInfo . signalName = sigName ; srcInfo . sigSourceUUID = 0 ; rtDW . bud5p4ylzh . AQHandles = sdiStartAsyncioQueueCreation ( hDT , & srcInfo , rt_dataMapInfo . mmi . InstanceMap . fullPath , "b55d5ff2-c703-4c2a-9ba0-8b248f2c2e72" , sigComplexity , & sigDims , DIMENSIONS_MODE_FIXED , stCont , "" ) ; sdiCompleteAsyncioQueueCreation ( rtDW . bud5p4ylzh . AQHandles , hDT , & srcInfo ) ; if ( rtDW . bud5p4ylzh . AQHandles ) { sdiSetSignalSampleTimeString ( rtDW . bud5p4ylzh . AQHandles , "1e-06" , 1.0E-6 , ssGetTFinal ( rtS ) ) ; sdiSetSignalRefRate ( rtDW . bud5p4ylzh . AQHandles , 0.0 ) ; sdiSetRunStartTime ( rtDW . bud5p4ylzh . AQHandles , ssGetTaskTime ( rtS , 1 ) ) ; sdiAsyncRepoSetSignalExportSettings ( rtDW . bud5p4ylzh . AQHandles , 1 , 0 ) ; sdiAsyncRepoSetSignalExportName ( rtDW . bud5p4ylzh . AQHandles , loggedName , origSigName , propName ) ; } sdiFreeLabel ( sigName ) ; sdiFreeLabel ( loggedName ) ; sdiFreeLabel ( origSigName ) ; sdiFreeLabel ( propName ) ; sdiFreeLabel ( blockPath ) ; sdiFreeLabel ( blockSID ) ; sdiFreeLabel ( subPath ) ; } } if ( ! isStreamoutAlreadyRegistered ) { } } } } { { { bool isStreamoutAlreadyRegistered = false ; { sdiSignalSourceInfoU srcInfo ; sdiLabelU loggedName = sdiGetLabelFromChars ( "<vds>" ) ; sdiLabelU origSigName = sdiGetLabelFromChars ( "<vds>" ) ; sdiLabelU propName = sdiGetLabelFromChars ( "" ) ; sdiLabelU blockPath = sdiGetLabelFromChars ( "based_FOC/Subsystem4/Bus Selector" ) ; sdiLabelU blockSID = sdiGetLabelFromChars ( "" ) ; sdiLabelU subPath = sdiGetLabelFromChars ( "" ) ; sdiDims sigDims ; sdiLabelU sigName = sdiGetLabelFromChars ( "<vds>" ) ; sdiAsyncRepoDataTypeHandle hDT = sdiAsyncRepoGetBuiltInDataTypeHandle ( DATA_TYPE_DOUBLE ) ; { sdiComplexity sigComplexity = REAL ; sdiSampleTimeContinuity stCont = SAMPLE_TIME_DISCRETE ; int_T sigDimsArray [ 1 ] = { ( int_T ) 1 } ; sigDims . nDims = 1 ; sigDims . dimensions = sigDimsArray ; srcInfo . numBlockPathElems = 1 ; srcInfo . fullBlockPath = ( sdiFullBlkPathU ) & blockPath ; srcInfo . SID = ( sdiSignalIDU ) & blockSID ; srcInfo . subPath = subPath ; srcInfo . portIndex = 7 + 1 ; srcInfo . signalName = sigName ; srcInfo . sigSourceUUID = 0 ; rtDW . o3vmxbgb5q . AQHandles = sdiStartAsyncioQueueCreation ( hDT , & srcInfo , rt_dataMapInfo . mmi . InstanceMap . fullPath , "81f41215-f84e-433e-b0ed-8e2c8468bfbc" , sigComplexity , & sigDims , DIMENSIONS_MODE_FIXED , stCont , "" ) ; sdiCompleteAsyncioQueueCreation ( rtDW . o3vmxbgb5q . AQHandles , hDT , & srcInfo ) ; if ( rtDW . o3vmxbgb5q . AQHandles ) { sdiSetSignalSampleTimeString ( rtDW . o3vmxbgb5q . AQHandles , "1e-06" , 1.0E-6 , ssGetTFinal ( rtS ) ) ; sdiSetSignalRefRate ( rtDW . o3vmxbgb5q . AQHandles , 0.0 ) ; sdiSetRunStartTime ( rtDW . o3vmxbgb5q . AQHandles , ssGetTaskTime ( rtS , 1 ) ) ; sdiAsyncRepoSetSignalExportSettings ( rtDW . o3vmxbgb5q . AQHandles , 1 , 0 ) ; sdiAsyncRepoSetSignalExportName ( rtDW . o3vmxbgb5q . AQHandles , loggedName , origSigName , propName ) ; } sdiFreeLabel ( sigName ) ; sdiFreeLabel ( loggedName ) ; sdiFreeLabel ( origSigName ) ; sdiFreeLabel ( propName ) ; sdiFreeLabel ( blockPath ) ; sdiFreeLabel ( blockSID ) ; sdiFreeLabel ( subPath ) ; } } if ( ! isStreamoutAlreadyRegistered ) { } } } } { { { bool isStreamoutAlreadyRegistered = false ; { sdiSignalSourceInfoU srcInfo ; sdiLabelU loggedName = sdiGetLabelFromChars ( "Theta" ) ; sdiLabelU origSigName = sdiGetLabelFromChars ( "Theta" ) ; sdiLabelU propName = sdiGetLabelFromChars ( "" ) ; sdiLabelU blockPath = sdiGetLabelFromChars ( "based_FOC/Subsystem4/Mod1" ) ; sdiLabelU blockSID = sdiGetLabelFromChars ( "" ) ; sdiLabelU subPath = sdiGetLabelFromChars ( "" ) ; sdiDims sigDims ; sdiLabelU sigName = sdiGetLabelFromChars ( "Theta" ) ; sdiAsyncRepoDataTypeHandle hDT = sdiAsyncRepoGetBuiltInDataTypeHandle ( DATA_TYPE_DOUBLE ) ; { sdiComplexity sigComplexity = REAL ; sdiSampleTimeContinuity stCont = SAMPLE_TIME_DISCRETE ; int_T sigDimsArray [ 1 ] = { ( int_T ) 1 } ; sigDims . nDims = 1 ; sigDims . dimensions = sigDimsArray ; srcInfo . numBlockPathElems = 1 ; srcInfo . fullBlockPath = ( sdiFullBlkPathU ) & blockPath ; srcInfo . SID = ( sdiSignalIDU ) & blockSID ; srcInfo . subPath = subPath ; srcInfo . portIndex = 0 + 1 ; srcInfo . signalName = sigName ; srcInfo . sigSourceUUID = 0 ; rtDW . iy52gcogzn . AQHandles = sdiStartAsyncioQueueCreation ( hDT , & srcInfo , rt_dataMapInfo . mmi . InstanceMap . fullPath , "8cbb90df-51f4-4ae0-80a8-b5bab4475d45" , sigComplexity , & sigDims , DIMENSIONS_MODE_FIXED , stCont , "" ) ; sdiCompleteAsyncioQueueCreation ( rtDW . iy52gcogzn . AQHandles , hDT , & srcInfo ) ; if ( rtDW . iy52gcogzn . AQHandles ) { sdiSetSignalSampleTimeString ( rtDW . iy52gcogzn . AQHandles , "1e-06" , 1.0E-6 , ssGetTFinal ( rtS ) ) ; sdiSetSignalRefRate ( rtDW . iy52gcogzn . AQHandles , 0.0 ) ; sdiSetRunStartTime ( rtDW . iy52gcogzn . AQHandles , ssGetTaskTime ( rtS , 1 ) ) ; sdiAsyncRepoSetSignalExportSettings ( rtDW . iy52gcogzn . AQHandles , 1 , 0 ) ; sdiAsyncRepoSetSignalExportName ( rtDW . iy52gcogzn . AQHandles , loggedName , origSigName , propName ) ; } sdiFreeLabel ( sigName ) ; sdiFreeLabel ( loggedName ) ; sdiFreeLabel ( origSigName ) ; sdiFreeLabel ( propName ) ; sdiFreeLabel ( blockPath ) ; sdiFreeLabel ( blockSID ) ; sdiFreeLabel ( subPath ) ; } } if ( ! isStreamoutAlreadyRegistered ) { } } } } rtDW . ocwaun5q5s = 0U ; rtB . dvhqwvadlh [ 0 ] = - 1.0 ; rtB . dvhqwvadlh [ 1 ] = - 1.0 ; rtDW . akjewdlwej = 0U ; rtDW . psfjb0nsls = 0U ; rtDW . pvevgoy3y3 = 0U ; rtDW . lni3dmfvjj = 0U ; rtDW . ifed2xuv2w = 0U ; rtDW . bwi4ak5yob = 0 ; { rtDW . gbqvg1m3jx . DS = ( real_T * ) calloc ( 9 * 22 , sizeof ( real_T ) ) ; rtDW . gbqvg1m3jx . DX_COL = ( real_T * ) calloc ( 9 , sizeof ( real_T ) ) ; rtDW . gbqvg1m3jx . TMP2 = ( real_T * ) calloc ( 22 , sizeof ( real_T ) ) ; rtDW . gbqvg1m3jx . SWITCH_STATUS = ( int_T * ) calloc ( 6 , sizeof ( int_T ) ) ; rtDW . gbqvg1m3jx . SW_CHG = ( int_T * ) calloc ( 6 , sizeof ( int_T ) ) ; rtDW . gbqvg1m3jx . G_STATE = ( int_T * ) calloc ( 6 , sizeof ( int_T ) ) ; rtDW . gbqvg1m3jx . Y_SWITCH = ( real_T * ) calloc ( 6 , sizeof ( real_T ) ) ; rtDW . gbqvg1m3jx . SWITCH_TYPES = ( int_T * ) calloc ( 6 , sizeof ( int_T ) ) ; rtDW . gbqvg1m3jx . IDX_OUT_SW = ( int_T * ) calloc ( 6 , sizeof ( int_T ) ) ; rtDW . gbqvg1m3jx . SWITCH_STATUS_INIT = ( int_T * ) calloc ( 6 , sizeof ( int_T ) ) ; rtDW . gbqvg1m3jx . USWLAST = ( real_T * ) calloc ( 6 , sizeof ( real_T ) ) ; } MdlInitialize ( ) ; MdlEnable ( ) ; } void MdlOutputs ( int_T tid ) { real_T b_x_data [ 3 ] ; real_T ly5ymnxrd1 [ 3 ] ; real_T D ; real_T Ta ; real_T Tb ; real_T Tc ; real_T a015xtprv0 ; real_T b2nyjlm0dw ; real_T cbc0vn00cp ; real_T crsxbduiwn ; real_T csbfthwnqv ; real_T e1ozhctjrq ; real_T e2mx0u02wa_idx_4 ; real_T gfzyy1jgvf ; real_T ljbvyvgjco ; real_T nuitvjzpgk ; real_T nuwrhbvxvs ; real_T threshold2 ; int32_T idx ; int32_T k ; uint32_T elapseT_H ; boolean_T n3kdc0nknr ; SimStruct * S ; void * diag ; ZCEventType zcEvent ; static const real_T tableData_c [ 16 ] = { 0.0 , 0.10452846326765346 , 0.20791169081775931 , 0.3090169943749474 , 0.40673664307580015 , 0.49999999999999994 , 0.58778525229247314 , 0.66913060635885824 , 0.74314482547739424 , 0.80901699437494745 , 0.8660254037844386 , 0.91354545764260087 , 0.95105651629515353 , 0.97814760073380569 , 0.99452189536827329 , 1.0 } ; boolean_T exitg1 ; srClearBC ( rtDW . nnw34mmyux ) ; muDoubleScalarSinCos ( rtDW . g2db00oyvj , & crsxbduiwn , & nuwrhbvxvs ) ; csbfthwnqv = rtDW . lc2ze5kdtm ; gfzyy1jgvf = rtDW . ki15zaj1gp ; rtB . bvmgpm2odd = rtDW . lc2ze5kdtm * nuwrhbvxvs + rtDW . ki15zaj1gp * crsxbduiwn ; rtB . i411d5wrsj = ( ( - rtDW . lc2ze5kdtm - 1.7320508075688772 * rtDW . ki15zaj1gp ) * nuwrhbvxvs + ( 1.7320508075688772 * rtDW . lc2ze5kdtm - rtDW . ki15zaj1gp ) * crsxbduiwn ) * 0.5 ; rtB . mxfho1lu3p = rtDW . gymfqxh2cd ; rtB . ddvi5ihagt = rtP . _Pn2f2Based_FOC_Data_sldd_ * rtB . mxfho1lu3p ; rtB . imi2lpdtr1 = ( 0.0 - rtB . i411d5wrsj ) - rtB . bvmgpm2odd ; rtB . jtbsnoer54 = ( rtDW . g2db00oyvj - 1.5707963267948966 ) / 4.0 ; rtB . h4vz5f5kaw = muDoubleScalarMod ( rtP . _Pn2f2Based_FOC_Data_sldd_ * rtB . jtbsnoer54 , rtP . Constant1_Value_p1uxhfeofi ) ; if ( ( rtDW . bwi4ak5yob < rtP . PulseGenerator_Duty ) && ( rtDW . bwi4ak5yob >= 0 ) ) { cbc0vn00cp = rtP . PulseGenerator_Amp ; } else { cbc0vn00cp = 0.0 ; } if ( rtDW . bwi4ak5yob >= rtP . PulseGenerator_Period - 1.0 ) { rtDW . bwi4ak5yob = 0 ; } else { rtDW . bwi4ak5yob ++ ; } zcEvent = rt_ZCFcn ( RISING_ZERO_CROSSING , & rtPrevZCX . orqtvo2unp , ( cbc0vn00cp ) ) ; if ( zcEvent != NO_ZCEVENT ) { if ( rtDW . k4luewptuo ) { rtDW . cv41it4amb [ 0 ] = 0U ; rtDW . cv41it4amb [ 1 ] = 0U ; } else { rtDW . cv41it4amb [ 0 ] = ( ( uint32_T ) ( muDoubleScalarFloor ( ssGetTaskTime ( rtS , 1 ) / 1.0E-6 + 0.5 ) ) ) - rtDW . pwmwjft1gn [ 0 ] ; elapseT_H = ( ( uint32_T ) muDoubleScalarFloor ( ssGetTaskTime ( rtS , 1 ) / ( 4294.967296 ) + 0.5 ) ) - rtDW . pwmwjft1gn [ 1 ] ; if ( rtDW . pwmwjft1gn [ 0 ] > ( ( uint32_T ) ( muDoubleScalarFloor ( ssGetTaskTime ( rtS , 1 ) / 1.0E-6 + 0.5 ) ) ) ) { elapseT_H -- ; } rtDW . cv41it4amb [ 1 ] = elapseT_H ; } rtDW . pwmwjft1gn [ 0 ] = ( ( uint32_T ) ( muDoubleScalarFloor ( ssGetTaskTime ( rtS , 1 ) / 1.0E-6 + 0.5 ) ) ) ; rtDW . pwmwjft1gn [ 1 ] = ( ( uint32_T ) muDoubleScalarFloor ( ssGetTaskTime ( rtS , 1 ) / ( 4294.967296 ) + 0.5 ) ) ; rtDW . k4luewptuo = false ; rtB . f4ynojnm2r = ( ( rtB . bvmgpm2odd - 0.5 * rtB . i411d5wrsj ) - 0.5 * rtB . imi2lpdtr1 ) * 2.0 / 3.0 ; rtB . hgeuugh2cl = ( 0.8660254037844386 * rtB . i411d5wrsj - 0.8660254037844386 * rtB . imi2lpdtr1 ) * 2.0 / 3.0 ; ljbvyvgjco = rtDW . nhi0bwiqwe - rtP . _L2f2Based_FOC_Data_sldd_ * rtB . f4ynojnm2r ; cbc0vn00cp = rtDW . jpmcmrdt3a - rtP . _L2f2Based_FOC_Data_sldd_ * rtB . hgeuugh2cl ; a015xtprv0 = rtB . edm5gwau3m - ( ljbvyvgjco * ljbvyvgjco + cbc0vn00cp * cbc0vn00cp ) ; cbc0vn00cp = ( a015xtprv0 * cbc0vn00cp * rtP . _gamma2f2Based_FOC_Data_sldd_ + ( rtDW . np4v4eaezh - rtP . _Rs2f2Based_FOC_Data_sldd_ * rtB . hgeuugh2cl ) ) * rtP . _Ts2f2Based_FOC_Data_sldd_ + rtDW . jpmcmrdt3a ; rtB . icsedlrfmo = ( cbc0vn00cp - rtP . _L2f2Based_FOC_Data_sldd_ * rtB . hgeuugh2cl ) * ( 1.0 / rtP . _flux2f2Based_FOC_Data_sldd_ ) ; ljbvyvgjco = ( ljbvyvgjco * a015xtprv0 * rtP . _gamma2f2Based_FOC_Data_sldd_ + ( rtDW . ceat33yomo - rtP . _Rs2f2Based_FOC_Data_sldd_ * rtB . f4ynojnm2r ) ) * rtP . _Ts2f2Based_FOC_Data_sldd_ + rtDW . nhi0bwiqwe ; rtB . keu13zucmw = ( ljbvyvgjco - rtP . _L2f2Based_FOC_Data_sldd_ * rtB . f4ynojnm2r ) * ( 1.0 / rtP . _flux2f2Based_FOC_Data_sldd_ ) ; if ( rtDW . nr4jtirdwo != 0 ) { a015xtprv0 = rtDW . ocgieankjr ; } else { a015xtprv0 = rtP . DiscreteTimeIntegrator_gainval * ( real_T ) rtDW . cv41it4amb [ 0 ] * rtDW . jnortiucxw + rtDW . ocgieankjr ; } rtB . hlen4hvuex = muDoubleScalarMod ( a015xtprv0 , rtP . Constant3_Value ) ; if ( ( rtB . hlen4hvuex < - 6.2831853071795862 ) || ( rtB . hlen4hvuex >= 2.0 * DBL_EPSILON + 6.2831853071795862 ) || ( muDoubleScalarIsNaN ( rtB . hlen4hvuex ) || muDoubleScalarIsInf ( rtB . hlen4hvuex ) ) ) { S = rtS ; diag = CreateDiagnosticAsVoidPtr ( "Simulink:blocks:LutAngleOutOfRangeRad" , 1 , 5 , "based_FOC/Subsystem/Sensorless/Flux_observer/PLL/Cos" ) ; rt_ssSet_slErrMsg ( S , diag ) ; } e1ozhctjrq = rtB . hlen4hvuex / 6.2831853071795862 ; if ( e1ozhctjrq < 0.0 ) { D = e1ozhctjrq + 1.0 ; e1ozhctjrq ++ ; } else { D = e1ozhctjrq ; } e1ozhctjrq += 0.25 ; if ( D + 0.25 >= 1.0 ) { e1ozhctjrq = ( D + 0.25 ) - 1.0 ; } if ( e1ozhctjrq > 0.5 ) { e1ozhctjrq -= 0.5 ; n3kdc0nknr = true ; } else { n3kdc0nknr = false ; } if ( e1ozhctjrq > 0.25 ) { e1ozhctjrq = 0.5 - e1ozhctjrq ; } elapseT_H = plook_evenc ( e1ozhctjrq , 0.0 , 0.016666666666666666 , 15U , & D ) ; b2nyjlm0dw = intrp1d_l_pw ( elapseT_H , D , tableData_c ) ; if ( n3kdc0nknr ) { b2nyjlm0dw = - b2nyjlm0dw ; } b2nyjlm0dw *= rtB . icsedlrfmo ; if ( ( rtB . hlen4hvuex < - 6.2831853071795862 ) || ( rtB . hlen4hvuex >= 2.0 * DBL_EPSILON + 6.2831853071795862 ) || ( muDoubleScalarIsNaN ( rtB . hlen4hvuex ) || muDoubleScalarIsInf ( rtB . hlen4hvuex ) ) ) { S = rtS ; diag = CreateDiagnosticAsVoidPtr ( "Simulink:blocks:LutAngleOutOfRangeRad" , 1 , 5 , "based_FOC/Subsystem/Sensorless/Flux_observer/PLL/Sin" ) ; rt_ssSet_slErrMsg ( S , diag ) ; } e1ozhctjrq = rtB . hlen4hvuex / 6.2831853071795862 ; if ( e1ozhctjrq < 0.0 ) { e1ozhctjrq ++ ; } if ( e1ozhctjrq > 0.5 ) { e1ozhctjrq -= 0.5 ; n3kdc0nknr = true ; } else { n3kdc0nknr = false ; } if ( e1ozhctjrq > 0.25 ) { e1ozhctjrq = 0.5 - e1ozhctjrq ; } elapseT_H = plook_evenc ( e1ozhctjrq , 0.0 , 0.016666666666666666 , 15U , & D ) ; nuitvjzpgk = intrp1d_l_pw ( elapseT_H , D , tableData_c ) ; if ( n3kdc0nknr ) { nuitvjzpgk = - nuitvjzpgk ; } rtB . maef41dty2 = b2nyjlm0dw - rtB . keu13zucmw * nuitvjzpgk ; j11ktu25te ( rtB . maef41dty2 , rtP . _PLL_P2f2Based_FOC_Data_sldd_ , rtP . _PLL_I2f2Based_FOC_Data_sldd_ , rtP . Subsystem3_Kd , rtP . Subsystem3_Ts , rtP . Subsystem3_max_Integral , rtP . Subsystem3_min_Integral , rtP . Subsystem3_max_output , rtP . Subsystem3_min_output , & rtB . emmdqoheic , & rtDW . emmdqoheic ) ; nuitvjzpgk = muDoubleScalarMax ( rtB . dvhqwvadlh [ 0 ] , rtP . LowPassFilterDiscreteorContinuous_T ) ; n3kdc0nknr = ( ( rtP . LowPassFilterDiscreteorContinuous_T - rtB . dvhqwvadlh [ 0 ] <= 0.0 ) && rtB . g4x1kcgl20 ) ; b2nyjlm0dw = rtP . LowPassFilterDiscreteorContinuous_K * rtB . emmdqoheic . pveoae0rgk ; if ( rtDW . mkoxzdqwi2 != 0 ) { rtDW . j4bzixxmjs = b2nyjlm0dw ; if ( rtDW . j4bzixxmjs > rtP . Integrator_UpperSat ) { rtDW . j4bzixxmjs = rtP . Integrator_UpperSat ; } else if ( rtDW . j4bzixxmjs < rtP . Integrator_LowerSat ) { rtDW . j4bzixxmjs = rtP . Integrator_LowerSat ; } e1ozhctjrq = rtDW . j4bzixxmjs ; } else if ( n3kdc0nknr || ( rtDW . fih3gfro2h != 0 ) ) { rtDW . j4bzixxmjs = b2nyjlm0dw ; if ( rtDW . j4bzixxmjs > rtP . Integrator_UpperSat ) { rtDW . j4bzixxmjs = rtP . Integrator_UpperSat ; } else if ( rtDW . j4bzixxmjs < rtP . Integrator_LowerSat ) { rtDW . j4bzixxmjs = rtP . Integrator_LowerSat ; } e1ozhctjrq = rtDW . j4bzixxmjs ; } else { e1ozhctjrq = rtP . Integrator_gainval * ( real_T ) rtDW . cv41it4amb [ 0 ] * rtDW . ocj52bygmn + rtDW . j4bzixxmjs ; } if ( e1ozhctjrq > rtP . Integrator_UpperSat ) { e1ozhctjrq = rtP . Integrator_UpperSat ; } else if ( e1ozhctjrq < rtP . Integrator_LowerSat ) { e1ozhctjrq = rtP . Integrator_LowerSat ; } if ( e1ozhctjrq > rtP . Saturation_UpperSat ) { rtB . fauyn5g1jz = rtP . Saturation_UpperSat ; } else if ( e1ozhctjrq < rtP . Saturation_LowerSat ) { rtB . fauyn5g1jz = rtP . Saturation_LowerSat ; } else { rtB . fauyn5g1jz = e1ozhctjrq ; } rtB . n0qw4xb12u = muDoubleScalarCos ( rtB . hlen4hvuex ) * rtB . f4ynojnm2r + muDoubleScalarSin ( rtB . hlen4hvuex ) * rtB . hgeuugh2cl ; rtB . ojdhbpltph = - muDoubleScalarSin ( rtB . hlen4hvuex ) * rtB . f4ynojnm2r + muDoubleScalarCos ( rtB . hlen4hvuex ) * rtB . hgeuugh2cl ; rtB . klllytdpmn = 1.0 / rtP . _Pn2f2Based_FOC_Data_sldd_ * rtB . fauyn5g1jz * rtP . Gain1_Gain ; rtB . o3rovp4hg1 = rtP . Constant8_Value - rtB . klllytdpmn ; j11ktu25te ( rtB . o3rovp4hg1 , rtP . Subsystem_Kp , rtP . Subsystem_Ki , rtP . Subsystem_Kd , rtP . Subsystem_Ts , rtP . Subsystem_max_Integral , rtP . Subsystem_min_Integral , rtP . Subsystem_max_output , rtP . Subsystem_min_output , & rtB . jty1wsfjlj , & rtDW . jty1wsfjlj ) ; rtB . eaaz53xwpc = rtB . jty1wsfjlj . pveoae0rgk - rtB . ojdhbpltph ; j11ktu25te ( rtB . eaaz53xwpc , rtP . Subsystem2_Kp , rtP . Subsystem2_Ki , rtP . Subsystem2_Kd , rtP . Subsystem2_Ts , rtP . Subsystem2_max_Integral , rtP . Subsystem2_min_Integral , rtP . Subsystem2_max_output , rtP . Subsystem2_min_output , & rtB . kg410grc4m , & rtDW . kg410grc4m ) ; rtB . k4rsarzudt = rtP . Id_ref_Value - rtB . n0qw4xb12u ; rtDW . hxmang4whi = jmp4ftudat ; rtDW . mfjr5e14xs += rtP . Subsystem3_Ki * rtB . k4rsarzudt * rtP . Subsystem3_Ts_gafktesne5 ; if ( rtDW . mfjr5e14xs >= rtP . Subsystem3_max_Integral_pc1i5p255z ) { rtDW . mfjr5e14xs = rtP . Subsystem3_max_Integral_pc1i5p255z ; } else if ( rtDW . mfjr5e14xs <= rtP . Subsystem3_min_Integral_bhno53osaw ) { rtDW . mfjr5e14xs = rtP . Subsystem3_min_Integral_bhno53osaw ; } D = ( rtB . k4rsarzudt - rtDW . ma3yw4utkh ) * rtP . Subsystem3_Kd_nwkkd3n4ya / rtP . Subsystem3_Ts_gafktesne5 ; rtDW . ma3yw4utkh = rtB . k4rsarzudt ; D += rtP . Subsystem3_Kp * rtB . k4rsarzudt + rtDW . mfjr5e14xs ; if ( D >= rtP . Subsystem3_max_output_fnwgdzd14e ) { D = rtP . Subsystem3_max_output_fnwgdzd14e ; } else if ( D <= rtP . Subsystem3_min_output_k03ehr1wvd ) { D = rtP . Subsystem3_min_output_k03ehr1wvd ; } rtB . brto0brqox = D ; rtDW . d0lzng0qrp = jmp4ftudat ; D = muDoubleScalarSqrt ( rtB . kg410grc4m . pveoae0rgk * rtB . kg410grc4m . pveoae0rgk + rtB . brto0brqox * rtB . brto0brqox ) ; threshold2 = rtP . Constant_Value_eugrpqijcm * 2.0 * 1.7320508075688772 / 3.0 ; switch ( ( int32_T ) rtDW . m4pexi1xka ) { case 0 : rtB . d5igmkwwvg = D ; if ( D >= threshold2 ) { rtDW . m4pexi1xka = 1.0 ; } break ; case 1 : rtB . d5igmkwwvg = threshold2 ; if ( D <= rtP . Constant_Value_eugrpqijcm * 0.5 ) { rtDW . m4pexi1xka = 0.0 ; } break ; default : rtB . d5igmkwwvg = D ; break ; } rtB . awrzvcwo5i = look1_binlcapw ( rtB . d5igmkwwvg , rtP . F1 , rtP . U_ref , 499U ) ; rtB . pyzaziws5o = muDoubleScalarAtan2 ( rtB . kg410grc4m . pveoae0rgk , rtB . brto0brqox ) ; D = rtB . pyzaziws5o + rtB . hlen4hvuex ; rtB . kq5jwacnoy = rtB . awrzvcwo5i * muDoubleScalarCos ( D ) ; rtB . i31yhmvgpf = rtB . awrzvcwo5i * muDoubleScalarSin ( D ) ; rtDW . gmsb5tf0og = jmp4ftudat ; threshold2 = - 1.7320508075688772 * rtP . _Period2f2Based_FOC_Data_sldd_ / 2.0 / rtP . _Udc2f2Based_FOC_Data_sldd_ ; D = ( 0.8660254037844386 * rtB . kq5jwacnoy + 0.5 * rtB . i31yhmvgpf ) * threshold2 ; threshold2 *= rtB . i31yhmvgpf ; if ( ( D >= 0.0 ) && ( threshold2 >= 0.0 ) ) { Tc = 0.0 ; ht5d0tl1u4 ( D , threshold2 , rtP . _Period2f2Based_FOC_Data_sldd_ , & Ta , & Tb ) ; } else if ( ( D <= threshold2 ) && ( D <= 0.0 ) ) { Ta = 0.0 ; ht5d0tl1u4 ( threshold2 - D , - D , rtP . _Period2f2Based_FOC_Data_sldd_ , & Tb , & Tc ) ; } else if ( ( D > threshold2 ) && ( threshold2 <= 0.0 ) ) { Tb = 0.0 ; ht5d0tl1u4 ( D - threshold2 , - threshold2 , rtP . _Period2f2Based_FOC_Data_sldd_ , & Ta , & Tc ) ; } ly5ymnxrd1 [ 0 ] = Ta ; ly5ymnxrd1 [ 1 ] = Tb ; ly5ymnxrd1 [ 2 ] = Tc ; b_x_data [ 0 ] = Ta ; b_x_data [ 1 ] = Tb ; b_x_data [ 2 ] = Tc ; if ( ! muDoubleScalarIsNaN ( b_x_data [ 0 ] ) ) { idx = 1 ; } else { idx = 0 ; k = 2 ; exitg1 = false ; while ( ( ! exitg1 ) && ( k < 4 ) ) { if ( ! muDoubleScalarIsNaN ( b_x_data [ k - 1 ] ) ) { idx = k ; exitg1 = true ; } else { k ++ ; } } } if ( idx == 0 ) { D = Ta ; } else { D = ly5ymnxrd1 [ idx - 1 ] ; for ( k = idx + 1 ; k < 4 ; k ++ ) { threshold2 = ly5ymnxrd1 [ k - 1 ] ; if ( D < threshold2 ) { D = threshold2 ; } } } D = rtP . _Period2f2Based_FOC_Data_sldd_ / 2.0 - D ; rtB . lezl4badfl = D / 2.0 + Ta ; rtB . mmpoyjb255 = D / 2.0 + Tb ; rtB . et115tvd5c = D / 2.0 + Tc ; rtDW . dy3zgavjvw = jmp4ftudat ; Tb = rtB . mmpoyjb255 / 4250.0 * 220.0 ; Ta = rtB . et115tvd5c / 4250.0 * 220.0 ; rtB . oh3csxrczc = ( rtB . lezl4badfl / 4250.0 * 220.0 - 0.5 * Tb ) - 0.5 * Ta ; rtB . ncz3ei0xyl = ( Tb - Ta ) * 1.7320508075688772 / 2.0 ; { if ( rtDW . f21icutcu2 . AQHandles && ssGetLogOutput ( rtS ) ) { sdiWriteSignal ( rtDW . f21icutcu2 . AQHandles , ssGetTaskTime ( rtS , 1 ) , ( char * ) & rtB . f4ynojnm2r + 0 ) ; } } { if ( rtDW . an4rwyup45 . AQHandles && ssGetLogOutput ( rtS ) ) { sdiWriteSignal ( rtDW . an4rwyup45 . AQHandles , ssGetTaskTime ( rtS , 1 ) , ( char * ) & rtB . hgeuugh2cl + 0 ) ; } } { if ( rtDW . nigjqkrdgh . AQHandles && ssGetLogOutput ( rtS ) ) { sdiWriteSignal ( rtDW . nigjqkrdgh . AQHandles , ssGetTaskTime ( rtS , 1 ) , ( char * ) & rtB . oh3csxrczc + 0 ) ; } } { if ( rtDW . pqr5ti5djs . AQHandles && ssGetLogOutput ( rtS ) ) { sdiWriteSignal ( rtDW . pqr5ti5djs . AQHandles , ssGetTaskTime ( rtS , 1 ) , ( char * ) & rtB . ncz3ei0xyl + 0 ) ; } } { if ( rtDW . ink55qldzx . AQHandles && ssGetLogOutput ( rtS ) ) { sdiWriteSignal ( rtDW . ink55qldzx . AQHandles , ssGetTaskTime ( rtS , 1 ) , ( char * ) & rtB . awrzvcwo5i + 0 ) ; } } { if ( rtDW . bhkkrlprsc . AQHandles && ssGetLogOutput ( rtS ) ) { sdiWriteSignal ( rtDW . bhkkrlprsc . AQHandles , ssGetTaskTime ( rtS , 1 ) , ( char * ) & rtB . pyzaziws5o + 0 ) ; } } { if ( rtDW . kxwhg3dymm . AQHandles && ssGetLogOutput ( rtS ) ) { sdiWriteSignal ( rtDW . kxwhg3dymm . AQHandles , ssGetTaskTime ( rtS , 1 ) , ( char * ) & rtB . kq5jwacnoy + 0 ) ; } } { if ( rtDW . gyf1oq3zs3 . AQHandles && ssGetLogOutput ( rtS ) ) { sdiWriteSignal ( rtDW . gyf1oq3zs3 . AQHandles , ssGetTaskTime ( rtS , 1 ) , ( char * ) & rtB . i31yhmvgpf + 0 ) ; } } { if ( rtDW . ipoiwfl4sg . AQHandles && ssGetLogOutput ( rtS ) ) { sdiWriteSignal ( rtDW . ipoiwfl4sg . AQHandles , ssGetTaskTime ( rtS , 1 ) , ( char * ) & rtB . kq5jwacnoy + 0 ) ; } } { if ( rtDW . kanxmkuey4 . AQHandles && ssGetLogOutput ( rtS ) ) { sdiWriteSignal ( rtDW . kanxmkuey4 . AQHandles , ssGetTaskTime ( rtS , 1 ) , ( char * ) & rtB . i31yhmvgpf + 0 ) ; } } rtDW . ceat33yomo = rtB . kq5jwacnoy ; rtDW . np4v4eaezh = rtB . i31yhmvgpf ; rtDW . nhi0bwiqwe = ljbvyvgjco ; rtDW . jpmcmrdt3a = cbc0vn00cp ; rtDW . nr4jtirdwo = 0U ; rtDW . ocgieankjr = a015xtprv0 ; rtDW . jnortiucxw = rtB . emmdqoheic . pveoae0rgk ; rtDW . mkoxzdqwi2 = 0U ; rtDW . j4bzixxmjs = e1ozhctjrq ; rtDW . fih3gfro2h = ( int8_T ) n3kdc0nknr ; rtDW . ocj52bygmn = 1.0 / ( ( real_T ) ( nuitvjzpgk == 0.0 ) * 2.2204460492503131e-16 + nuitvjzpgk ) * ( b2nyjlm0dw - rtB . fauyn5g1jz ) ; rtDW . nnw34mmyux = 4 ; } rtB . bils2pe3o0 = look1_binlxpw ( muDoubleScalarRem ( ssGetT ( rtS ) , rtP . Constant_Value_geepaef2cb ) , rtP . LookUpTable1_bp01Data , rtP . RepeatingSequence1_rep_seq_y , 2U ) ; cbc0vn00cp = rtB . bils2pe3o0 - rtB . lezl4badfl ; if ( ssIsModeUpdateTimeStep ( rtS ) ) { rtDW . cuak05qrvl = ( ( cbc0vn00cp >= rtP . Relay_OnVal ) || ( ( ! ( cbc0vn00cp <= rtP . Relay_OffVal ) ) && rtDW . cuak05qrvl ) ) ; } if ( rtDW . cuak05qrvl ) { rtB . o4d5sop3qe = rtP . Relay_YOn ; } else { rtB . o4d5sop3qe = rtP . Relay_YOff ; } rtB . ed2v4avx3x = ! ( rtB . o4d5sop3qe != 0.0 ) ; cbc0vn00cp = rtB . bils2pe3o0 - rtB . mmpoyjb255 ; if ( ssIsModeUpdateTimeStep ( rtS ) ) { rtDW . ocbrfohdqu = ( ( cbc0vn00cp >= rtP . Relay1_OnVal ) || ( ( ! ( cbc0vn00cp <= rtP . Relay1_OffVal ) ) && rtDW . ocbrfohdqu ) ) ; } if ( rtDW . ocbrfohdqu ) { rtB . ddnhwcdugb = rtP . Relay1_YOn ; } else { rtB . ddnhwcdugb = rtP . Relay1_YOff ; } rtB . iybpytrzjw = ! ( rtB . ddnhwcdugb != 0.0 ) ; rtB . bbct5xrocn = rtB . bils2pe3o0 - rtB . et115tvd5c ; if ( ssIsModeUpdateTimeStep ( rtS ) ) { rtDW . g5jwl0rrph = ( ( rtB . bbct5xrocn >= rtP . Relay2_OnVal ) || ( ( ! ( rtB . bbct5xrocn <= rtP . Relay2_OffVal ) ) && rtDW . g5jwl0rrph ) ) ; } if ( rtDW . g5jwl0rrph ) { rtB . m22zcfn1ms = rtP . Relay2_YOn ; } else { rtB . m22zcfn1ms = rtP . Relay2_YOff ; } rtB . c3zvc1ql15 = ! ( rtB . m22zcfn1ms != 0.0 ) ; if ( rtB . o4d5sop3qe > rtP . Saturation_UpperSat_lvhbmvqtsm ) { D = rtP . Saturation_UpperSat_lvhbmvqtsm ; } else if ( rtB . o4d5sop3qe < rtP . Saturation_LowerSat_mxekufxfq4 ) { D = rtP . Saturation_LowerSat_mxekufxfq4 ; } else { D = rtB . o4d5sop3qe ; } e1ozhctjrq = D * rtB . h5dgx5wmy1 ; if ( rtB . ed2v4avx3x > rtP . Saturation_UpperSat_lvhbmvqtsm ) { D = rtP . Saturation_UpperSat_lvhbmvqtsm ; } else if ( rtB . ed2v4avx3x < rtP . Saturation_LowerSat_mxekufxfq4 ) { D = rtP . Saturation_LowerSat_mxekufxfq4 ; } else { D = rtB . ed2v4avx3x ; } b2nyjlm0dw = D * rtB . h5dgx5wmy1 ; if ( rtB . ddnhwcdugb > rtP . Saturation_UpperSat_lvhbmvqtsm ) { D = rtP . Saturation_UpperSat_lvhbmvqtsm ; } else if ( rtB . ddnhwcdugb < rtP . Saturation_LowerSat_mxekufxfq4 ) { D = rtP . Saturation_LowerSat_mxekufxfq4 ; } else { D = rtB . ddnhwcdugb ; } nuitvjzpgk = D * rtB . h5dgx5wmy1 ; if ( rtB . iybpytrzjw > rtP . Saturation_UpperSat_lvhbmvqtsm ) { D = rtP . Saturation_UpperSat_lvhbmvqtsm ; } else if ( rtB . iybpytrzjw < rtP . Saturation_LowerSat_mxekufxfq4 ) { D = rtP . Saturation_LowerSat_mxekufxfq4 ; } else { D = rtB . iybpytrzjw ; } threshold2 = D * rtB . h5dgx5wmy1 ; if ( rtB . m22zcfn1ms > rtP . Saturation_UpperSat_lvhbmvqtsm ) { D = rtP . Saturation_UpperSat_lvhbmvqtsm ; } else if ( rtB . m22zcfn1ms < rtP . Saturation_LowerSat_mxekufxfq4 ) { D = rtP . Saturation_LowerSat_mxekufxfq4 ; } else { D = rtB . m22zcfn1ms ; } e2mx0u02wa_idx_4 = D * rtB . h5dgx5wmy1 ; if ( rtB . c3zvc1ql15 > rtP . Saturation_UpperSat_lvhbmvqtsm ) { D = rtP . Saturation_UpperSat_lvhbmvqtsm ; } else if ( rtB . c3zvc1ql15 < rtP . Saturation_LowerSat_mxekufxfq4 ) { D = rtP . Saturation_LowerSat_mxekufxfq4 ; } else { D = rtB . c3zvc1ql15 ; } D *= rtB . h5dgx5wmy1 ; rtB . iydpuygsg3 = rtDW . dt2ijnggmb ; cbc0vn00cp = rtP . Gain4_Gain * rtB . iydpuygsg3 - rtDW . byvsnyv5zr ; rtDW . d4deydkd2e = jmp4ftudat ; rtB . g1qadio5dk [ 0 ] = ( 1.0 - b2nyjlm0dw ) * cbc0vn00cp ; rtB . g1qadio5dk [ 1 ] = - e1ozhctjrq * cbc0vn00cp ; rtB . g1qadio5dk [ 2 ] = ( 1.0 - threshold2 ) * cbc0vn00cp ; rtB . g1qadio5dk [ 3 ] = - nuitvjzpgk * cbc0vn00cp ; rtB . g1qadio5dk [ 4 ] = ( 1.0 - D ) * cbc0vn00cp ; rtB . g1qadio5dk [ 5 ] = - e2mx0u02wa_idx_4 * cbc0vn00cp ; rtB . cng1w212ln = rtDW . cz435ihcu3 ; { real_T accum ; int_T * switch_status = ( int_T * ) rtDW . gbqvg1m3jx . SWITCH_STATUS ; int_T * switch_status_init = ( int_T * ) rtDW . gbqvg1m3jx . SWITCH_STATUS_INIT ; int_T * SwitchChange = ( int_T * ) rtDW . gbqvg1m3jx . SW_CHG ; int_T * gState = ( int_T * ) rtDW . gbqvg1m3jx . G_STATE ; real_T * yswitch = ( real_T * ) rtDW . gbqvg1m3jx . Y_SWITCH ; int_T * switchTypes = ( int_T * ) rtDW . gbqvg1m3jx . SWITCH_TYPES ; int_T * idxOutSw = ( int_T * ) rtDW . gbqvg1m3jx . IDX_OUT_SW ; real_T * DxCol = ( real_T * ) rtDW . gbqvg1m3jx . DX_COL ; real_T * tmp2 = ( real_T * ) rtDW . gbqvg1m3jx . TMP2 ; real_T * uswlast = ( real_T * ) rtDW . gbqvg1m3jx . USWLAST ; int_T newState ; int_T swChanged = 0 ; int loopsToDo = 20 ; real_T temp ; memcpy ( switch_status_init , switch_status , 6 * sizeof ( int_T ) ) ; memcpy ( uswlast , & rtB . e2oy154v1u [ 0 ] , 6 * sizeof ( real_T ) ) ; do { if ( loopsToDo == 1 ) { swChanged = 0 ; { int_T i1 ; for ( i1 = 0 ; i1 < 6 ; i1 ++ ) { swChanged = ( ( SwitchChange [ i1 ] = switch_status_init [ i1 ] - switch_status [ i1 ] ) != 0 ) ? 1 : swChanged ; switch_status [ i1 ] = switch_status_init [ i1 ] ; } } } else { real_T * Ds = ( real_T * ) rtDW . gbqvg1m3jx . DS ; { int_T i1 ; real_T * y0 = & rtB . e2oy154v1u [ 0 ] ; for ( i1 = 0 ; i1 < 9 ; i1 ++ ) { accum = 0.0 ; { int_T i2 ; const real_T * u0 = & rtP . SwitchCurrents_Value [ 0 ] ; for ( i2 = 0 ; i2 < 6 ; i2 ++ ) { accum += * ( Ds ++ ) * u0 [ i2 ] ; } accum += * ( Ds ++ ) * rtB . bvmgpm2odd ; accum += * ( Ds ++ ) * rtB . i411d5wrsj ; accum += * ( Ds ++ ) * rtP . DCVoltageSource1_Amplitude ; accum += * ( Ds ++ ) * rtB . g1qadio5dk [ 1 ] ; accum += * ( Ds ++ ) * rtB . g1qadio5dk [ 3 ] ; accum += * ( Ds ++ ) * rtB . g1qadio5dk [ 5 ] ; accum += * ( Ds ++ ) * rtB . g1qadio5dk [ 0 ] ; accum += * ( Ds ++ ) * rtB . g1qadio5dk [ 2 ] ; accum += * ( Ds ++ ) * rtB . g1qadio5dk [ 4 ] ; accum += * ( Ds ++ ) * rtB . cng1w212ln ; accum += * ( Ds ++ ) * rtP . eee_Value ; accum += * ( Ds ++ ) * rtP . eee_Value_ewdqtje3b0 ; accum += * ( Ds ++ ) * rtP . eee_Value_h1qjq4lqkf ; accum += * ( Ds ++ ) * rtP . eee_Value_bupr5ec5gd ; accum += * ( Ds ++ ) * rtP . eee_Value_g1uo4tygcq ; accum += * ( Ds ++ ) * rtP . eee_Value_jnqgmu1ji4 ; } y0 [ i1 ] = accum ; } } swChanged = 0 ; { int_T i1 ; real_T * y0 = & rtB . e2oy154v1u [ 0 ] ; for ( i1 = 0 ; i1 < 6 ; i1 ++ ) { newState = y0 [ i1 ] > 0.0 ? 1 : ( ( y0 [ i1 ] < 0.0 ) ? 0 : switch_status [ i1 ] ) ; swChanged = ( ( SwitchChange [ i1 ] = newState - switch_status [ i1 ] ) != 0 ) ? 1 : swChanged ; switch_status [ i1 ] = newState ; } } } if ( swChanged ) { real_T * Ds = ( real_T * ) rtDW . gbqvg1m3jx . DS ; real_T a1 ; { int_T i1 ; for ( i1 = 0 ; i1 < 6 ; i1 ++ ) { if ( SwitchChange [ i1 ] != 0 ) { a1 = 1000.0 * SwitchChange [ i1 ] ; temp = 1 / ( 1 - Ds [ i1 * 23 ] * a1 ) ; { int_T i2 ; for ( i2 = 0 ; i2 < 9 ; i2 ++ ) { DxCol [ i2 ] = Ds [ i2 * 22 + i1 ] * temp * a1 ; } } DxCol [ i1 ] = temp ; memcpy ( tmp2 , & Ds [ i1 * 22 ] , 22 * sizeof ( real_T ) ) ; memset ( & Ds [ i1 * 22 ] , '\0' , 22 * sizeof ( real_T ) ) ; { int_T i2 ; for ( i2 = 0 ; i2 < 9 ; i2 ++ ) { a1 = DxCol [ i2 ] ; { int_T i3 ; for ( i3 = 0 ; i3 < 22 ; i3 ++ ) { Ds [ i2 * 22 + i3 ] += a1 * tmp2 [ i3 ] ; } } } } } } } } } while ( swChanged > 0 && -- loopsToDo > 0 ) ; if ( loopsToDo == 0 ) { real_T * Ds = ( real_T * ) rtDW . gbqvg1m3jx . DS ; { int_T i1 ; real_T * y0 = & rtB . e2oy154v1u [ 0 ] ; for ( i1 = 0 ; i1 < 9 ; i1 ++ ) { accum = 0.0 ; { int_T i2 ; const real_T * u0 = & rtP . SwitchCurrents_Value [ 0 ] ; for ( i2 = 0 ; i2 < 6 ; i2 ++ ) { accum += * ( Ds ++ ) * u0 [ i2 ] ; } accum += * ( Ds ++ ) * rtB . bvmgpm2odd ; accum += * ( Ds ++ ) * rtB . i411d5wrsj ; accum += * ( Ds ++ ) * rtP . DCVoltageSource1_Amplitude ; accum += * ( Ds ++ ) * rtB . g1qadio5dk [ 1 ] ; accum += * ( Ds ++ ) * rtB . g1qadio5dk [ 3 ] ; accum += * ( Ds ++ ) * rtB . g1qadio5dk [ 5 ] ; accum += * ( Ds ++ ) * rtB . g1qadio5dk [ 0 ] ; accum += * ( Ds ++ ) * rtB . g1qadio5dk [ 2 ] ; accum += * ( Ds ++ ) * rtB . g1qadio5dk [ 4 ] ; accum += * ( Ds ++ ) * rtB . cng1w212ln ; accum += * ( Ds ++ ) * rtP . eee_Value ; accum += * ( Ds ++ ) * rtP . eee_Value_ewdqtje3b0 ; accum += * ( Ds ++ ) * rtP . eee_Value_h1qjq4lqkf ; accum += * ( Ds ++ ) * rtP . eee_Value_bupr5ec5gd ; accum += * ( Ds ++ ) * rtP . eee_Value_g1uo4tygcq ; accum += * ( Ds ++ ) * rtP . eee_Value_jnqgmu1ji4 ; } y0 [ i1 ] = accum ; } } } { int_T i1 ; real_T * y1 = & rtB . ofmh5pmvcs [ 0 ] ; for ( i1 = 0 ; i1 < 6 ; i1 ++ ) { y1 [ i1 ] = ( real_T ) switch_status [ i1 ] ; } } } { if ( rtDW . kczid045yc . AQHandles [ 0 ] && ssGetLogOutput ( rtS ) ) { sdiWriteSignal ( rtDW . kczid045yc . AQHandles [ 0 ] , ssGetTaskTime ( rtS , 1 ) , ( char * ) & rtB . bvmgpm2odd + 0 ) ; sdiWriteSignal ( rtDW . kczid045yc . AQHandles [ 1 ] , ssGetTaskTime ( rtS , 1 ) , ( char * ) & rtB . i411d5wrsj + 0 ) ; sdiWriteSignal ( rtDW . kczid045yc . AQHandles [ 2 ] , ssGetTaskTime ( rtS , 1 ) , ( char * ) & rtB . imi2lpdtr1 + 0 ) ; } } { if ( rtDW . bud5p4ylzh . AQHandles && ssGetLogOutput ( rtS ) ) { sdiWriteSignal ( rtDW . bud5p4ylzh . AQHandles , ssGetTaskTime ( rtS , 1 ) , ( char * ) & rtB . mxfho1lu3p + 0 ) ; } } if ( rtB . ofmh5pmvcs [ 3 ] >= rtP . Switch_Threshold ) { cbc0vn00cp = rtP . Gain_Gain_cnjrb05lj0 * rtB . e2oy154v1u [ 3 ] ; } else { cbc0vn00cp = rtP . u1_Value_jwxgunvume ; } if ( rtB . ofmh5pmvcs [ 4 ] >= rtP . Switch_Threshold_ejumnfp2iv ) { Tb = rtP . Gain_Gain_g1t15nmsmn * rtB . e2oy154v1u [ 4 ] ; } else { Tb = rtP . u1_Value_l2dpiazvzy ; } if ( rtB . ofmh5pmvcs [ 5 ] >= rtP . Switch_Threshold_ckrsclarb5 ) { Ta = rtP . Gain_Gain_bzsgmuimqy * rtB . e2oy154v1u [ 5 ] ; } else { Ta = rtP . u1_Value_gm2dshzm4f ; } if ( rtB . ofmh5pmvcs [ 0 ] >= rtP . Switch_Threshold_bxqw2aoic5 ) { Tc = rtP . Gain_Gain * rtB . e2oy154v1u [ 0 ] ; } else { Tc = rtP . u1_Value ; } if ( rtB . ofmh5pmvcs [ 1 ] >= rtP . Switch_Threshold_onyd2dtacm ) { ljbvyvgjco = rtP . Gain_Gain_mk3bjbwrde * rtB . e2oy154v1u [ 1 ] ; } else { ljbvyvgjco = rtP . u1_Value_nreyg4opoj ; } if ( rtB . ofmh5pmvcs [ 2 ] >= rtP . Switch_Threshold_jaxwwid1sf ) { a015xtprv0 = rtP . Gain_Gain_oivnklv25u * rtB . e2oy154v1u [ 2 ] ; } else { a015xtprv0 = rtP . u1_Value_ls0m5pykfy ; } rtDW . bl3wth4gb4 = jmp4ftudat ; if ( cbc0vn00cp > rtP . Saturation_UpperSat_fsy5ziaufk ) { cbc0vn00cp = rtP . Saturation_UpperSat_fsy5ziaufk ; } else if ( cbc0vn00cp < rtP . Saturation_LowerSat_lcctrgol0c ) { cbc0vn00cp = rtP . Saturation_LowerSat_lcctrgol0c ; } if ( Tc > rtP . Saturation_UpperSat_maem4qlhjb ) { Tc = rtP . Saturation_UpperSat_maem4qlhjb ; } else if ( Tc < rtP . Saturation_LowerSat_bi44mm4520 ) { Tc = rtP . Saturation_LowerSat_bi44mm4520 ; } if ( Tb > rtP . Saturation_UpperSat_gahcyazdwu ) { Tb = rtP . Saturation_UpperSat_gahcyazdwu ; } else if ( Tb < rtP . Saturation_LowerSat_omyxtylrr2 ) { Tb = rtP . Saturation_LowerSat_omyxtylrr2 ; } if ( ljbvyvgjco > rtP . Saturation_UpperSat_lfg1vg5xfs ) { ljbvyvgjco = rtP . Saturation_UpperSat_lfg1vg5xfs ; } else if ( ljbvyvgjco < rtP . Saturation_LowerSat_oaquejrj11 ) { ljbvyvgjco = rtP . Saturation_LowerSat_oaquejrj11 ; } if ( Ta > rtP . Saturation_UpperSat_dzgt10esff ) { Ta = rtP . Saturation_UpperSat_dzgt10esff ; } else if ( Ta < rtP . Saturation_LowerSat_fh1umgpwfe ) { Ta = rtP . Saturation_LowerSat_fh1umgpwfe ; } if ( a015xtprv0 > rtP . Saturation_UpperSat_ciqrhxjwb1 ) { a015xtprv0 = rtP . Saturation_UpperSat_ciqrhxjwb1 ; } else if ( a015xtprv0 < rtP . Saturation_LowerSat_l5rgpp0wbq ) { a015xtprv0 = rtP . Saturation_LowerSat_l5rgpp0wbq ; } rtB . dvdx0svzcc = ( ( ( b2nyjlm0dw - 1.0 ) * cbc0vn00cp + e1ozhctjrq * Tc ) + ( ( threshold2 - 1.0 ) * Tb + ljbvyvgjco * nuitvjzpgk ) ) + ( ( D - 1.0 ) * Ta + a015xtprv0 * e2mx0u02wa_idx_4 ) ; rtB . adfbnhoe4d = rtP . donotdeletethisgain_Gain * rtB . e2oy154v1u [ 8 ] ; rtB . kb4r4hmq10 = ( ( 2.0 * rtB . e2oy154v1u [ 6 ] + rtB . e2oy154v1u [ 7 ] ) * nuwrhbvxvs + 1.7320508075688772 * rtB . e2oy154v1u [ 7 ] * crsxbduiwn ) * 0.33333333333333331 ; rtB . lac35nslzw = ( ( 2.0 * rtB . e2oy154v1u [ 6 ] + rtB . e2oy154v1u [ 7 ] ) * crsxbduiwn + - 1.7320508075688772 * rtB . e2oy154v1u [ 7 ] * nuwrhbvxvs ) * 0.33333333333333331 ; rtB . ckny4k4ajb = rtP . Gain_Gain_anscm3fjqp * rtB . mxfho1lu3p ; rtB . hlxa3tdq2m = ( rtP . uLd_Gain * rtB . lac35nslzw - rtP . RLd_Gain * gfzyy1jgvf ) + rtB . ckny4k4ajb * csbfthwnqv * rtP . LqLd_Gain ; rtB . bdgz0nrhdj = ( ( rtP . uLq_Gain * rtB . kb4r4hmq10 - rtP . RLq_Gain * csbfthwnqv ) - gfzyy1jgvf * rtB . ckny4k4ajb * rtP . LdLq_Gain ) - rtP . lamLq_Gain * rtB . ckny4k4ajb ; rtB . nq0riy0nl0 = ( ( ( 0.0 * csbfthwnqv * gfzyy1jgvf + 0.08627 * csbfthwnqv ) * 6.0 - rtP . Constant1_Value ) - ( rtP . CoulombViscousFriction_offset * muDoubleScalarSign ( rtB . mxfho1lu3p ) + rtP . CoulombViscousFriction_gain * rtB . mxfho1lu3p ) ) * rtP . Gain2_Gain ; { if ( rtDW . o3vmxbgb5q . AQHandles && ssGetLogOutput ( rtS ) ) { sdiWriteSignal ( rtDW . o3vmxbgb5q . AQHandles , ssGetTaskTime ( rtS , 1 ) , ( char * ) & rtB . lac35nslzw + 0 ) ; } } { if ( rtDW . iy52gcogzn . AQHandles && ssGetLogOutput ( rtS ) ) { sdiWriteSignal ( rtDW . iy52gcogzn . AQHandles , ssGetTaskTime ( rtS , 1 ) , ( char * ) & rtB . h4vz5f5kaw + 0 ) ; } } UNUSED_PARAMETER ( tid ) ; } void MdlOutputsTID2 ( int_T tid ) { rtB . h5dgx5wmy1 = ( rtP . CompareToConstant_const_fh44bbmvpu >= 0.0 ) ; rtB . edm5gwau3m = rtP . _flux2f2Based_FOC_Data_sldd_ * rtP . _flux2f2Based_FOC_Data_sldd_ ; rtB . g4x1kcgl20 = ( rtP . LowPassFilterDiscreteorContinuous_init_option < rtP . CompareToConstant_const ) ; UNUSED_PARAMETER ( tid ) ; } void MdlUpdate ( int_T tid ) { rtDW . g2db00oyvj += rtP . DiscreteTimeIntegrator1_gainval * rtB . ckny4k4ajb ; rtDW . lc2ze5kdtm += rtP . DiscreteTimeIntegrator_gainval_paiswrmeqy * rtB . bdgz0nrhdj ; rtDW . ki15zaj1gp += rtP . DiscreteTimeIntegrator_gainval_l5nc5jul3w * rtB . hlxa3tdq2m ; rtDW . gymfqxh2cd += rtP . DiscreteTimeIntegrator_gainval_ezgr3u4l02 * rtB . nq0riy0nl0 ; rtDW . dt2ijnggmb = rtB . adfbnhoe4d ; rtDW . byvsnyv5zr = rtB . iydpuygsg3 ; rtDW . cz435ihcu3 = rtB . dvdx0svzcc ; { int_T * gState = ( int_T * ) rtDW . gbqvg1m3jx . G_STATE ; * ( gState ++ ) = ( int_T ) 0.0 ; * ( gState ++ ) = ( int_T ) 0.0 ; * ( gState ++ ) = ( int_T ) 0.0 ; * ( gState ++ ) = ( int_T ) 0.0 ; * ( gState ++ ) = ( int_T ) 0.0 ; * ( gState ++ ) = ( int_T ) 0.0 ; } UNUSED_PARAMETER ( tid ) ; } void MdlUpdateTID2 ( int_T tid ) { UNUSED_PARAMETER ( tid ) ; } void MdlTerminate ( void ) { { free ( rtDW . gbqvg1m3jx . DS ) ; free ( rtDW . gbqvg1m3jx . DX_COL ) ; free ( rtDW . gbqvg1m3jx . TMP2 ) ; free ( rtDW . gbqvg1m3jx . G_STATE ) ; free ( rtDW . gbqvg1m3jx . SWITCH_STATUS ) ; free ( rtDW . gbqvg1m3jx . SW_CHG ) ; free ( rtDW . gbqvg1m3jx . SWITCH_STATUS_INIT ) ; } { if ( rtDW . f21icutcu2 . AQHandles ) { sdiTerminateStreaming ( & rtDW . f21icutcu2 . AQHandles ) ; } } { if ( rtDW . an4rwyup45 . AQHandles ) { sdiTerminateStreaming ( & rtDW . an4rwyup45 . AQHandles ) ; } } { if ( rtDW . nigjqkrdgh . AQHandles ) { sdiTerminateStreaming ( & rtDW . nigjqkrdgh . AQHandles ) ; } } { if ( rtDW . pqr5ti5djs . AQHandles ) { sdiTerminateStreaming ( & rtDW . pqr5ti5djs . AQHandles ) ; } } { if ( rtDW . ink55qldzx . AQHandles ) { sdiTerminateStreaming ( & rtDW . ink55qldzx . AQHandles ) ; } } { if ( rtDW . bhkkrlprsc . AQHandles ) { sdiTerminateStreaming ( & rtDW . bhkkrlprsc . AQHandles ) ; } } { if ( rtDW . kxwhg3dymm . AQHandles ) { sdiTerminateStreaming ( & rtDW . kxwhg3dymm . AQHandles ) ; } } { if ( rtDW . gyf1oq3zs3 . AQHandles ) { sdiTerminateStreaming ( & rtDW . gyf1oq3zs3 . AQHandles ) ; } } { if ( rtDW . ipoiwfl4sg . AQHandles ) { sdiTerminateStreaming ( & rtDW . ipoiwfl4sg . AQHandles ) ; } } { if ( rtDW . kanxmkuey4 . AQHandles ) { sdiTerminateStreaming ( & rtDW . kanxmkuey4 . AQHandles ) ; } } { if ( rtDW . kczid045yc . AQHandles [ 0 ] ) { sdiTerminateStreaming ( & rtDW . kczid045yc . AQHandles [ 0 ] ) ; } if ( rtDW . kczid045yc . AQHandles [ 1 ] ) { sdiTerminateStreaming ( & rtDW . kczid045yc . AQHandles [ 1 ] ) ; } if ( rtDW . kczid045yc . AQHandles [ 2 ] ) { sdiTerminateStreaming ( & rtDW . kczid045yc . AQHandles [ 2 ] ) ; } } { if ( rtDW . bud5p4ylzh . AQHandles ) { sdiTerminateStreaming ( & rtDW . bud5p4ylzh . AQHandles ) ; } } { if ( rtDW . o3vmxbgb5q . AQHandles ) { sdiTerminateStreaming ( & rtDW . o3vmxbgb5q . AQHandles ) ; } } { if ( rtDW . iy52gcogzn . AQHandles ) { sdiTerminateStreaming ( & rtDW . iy52gcogzn . AQHandles ) ; } } } static void mr_based_FOC_cacheDataAsMxArray ( mxArray * destArray , mwIndex i , int j , const void * srcData , size_t numBytes ) ; static void mr_based_FOC_cacheDataAsMxArray ( mxArray * destArray , mwIndex i , int j , const void * srcData , size_t numBytes ) { mxArray * newArray = mxCreateUninitNumericMatrix ( ( size_t ) 1 , numBytes , mxUINT8_CLASS , mxREAL ) ; memcpy ( ( uint8_T * ) mxGetData ( newArray ) , ( const uint8_T * ) srcData , numBytes ) ; mxSetFieldByNumber ( destArray , i , j , newArray ) ; } static void mr_based_FOC_restoreDataFromMxArray ( void * destData , const mxArray * srcArray , mwIndex i , int j , size_t numBytes ) ; static void mr_based_FOC_restoreDataFromMxArray ( void * destData , const mxArray * srcArray , mwIndex i , int j , size_t numBytes ) { memcpy ( ( uint8_T * ) destData , ( const uint8_T * ) mxGetData ( mxGetFieldByNumber ( srcArray , i , j ) ) , numBytes ) ; } static void mr_based_FOC_cacheBitFieldToMxArray ( mxArray * destArray , mwIndex i , int j , uint_T bitVal ) ; static void mr_based_FOC_cacheBitFieldToMxArray ( mxArray * destArray , mwIndex i , int j , uint_T bitVal ) { mxSetFieldByNumber ( destArray , i , j , mxCreateDoubleScalar ( ( real_T ) bitVal ) ) ; } static uint_T mr_based_FOC_extractBitFieldFromMxArray ( const mxArray * srcArray , mwIndex i , int j , uint_T numBits ) ; static uint_T mr_based_FOC_extractBitFieldFromMxArray ( const mxArray * srcArray , mwIndex i , int j , uint_T numBits ) { const uint_T varVal = ( uint_T ) mxGetScalar ( mxGetFieldByNumber ( srcArray , i , j ) ) ; return varVal & ( ( 1u << numBits ) - 1u ) ; } static void mr_based_FOC_cacheDataToMxArrayWithOffset ( mxArray * destArray , mwIndex i , int j , mwIndex offset , const void * srcData , size_t numBytes ) ; static void mr_based_FOC_cacheDataToMxArrayWithOffset ( mxArray * destArray , mwIndex i , int j , mwIndex offset , const void * srcData , size_t numBytes ) { uint8_T * varData = ( uint8_T * ) mxGetData ( mxGetFieldByNumber ( destArray , i , j ) ) ; memcpy ( ( uint8_T * ) & varData [ offset * numBytes ] , ( const uint8_T * ) srcData , numBytes ) ; } static void mr_based_FOC_restoreDataFromMxArrayWithOffset ( void * destData , const mxArray * srcArray , mwIndex i , int j , mwIndex offset , size_t numBytes ) ; static void mr_based_FOC_restoreDataFromMxArrayWithOffset ( void * destData , const mxArray * srcArray , mwIndex i , int j , mwIndex offset , size_t numBytes ) { const uint8_T * varData = ( const uint8_T * ) mxGetData ( mxGetFieldByNumber ( srcArray , i , j ) ) ; memcpy ( ( uint8_T * ) destData , ( const uint8_T * ) & varData [ offset * numBytes ] , numBytes ) ; } static void mr_based_FOC_cacheBitFieldToCellArrayWithOffset ( mxArray * destArray , mwIndex i , int j , mwIndex offset , uint_T fieldVal ) ; static void mr_based_FOC_cacheBitFieldToCellArrayWithOffset ( mxArray * destArray , mwIndex i , int j , mwIndex offset , uint_T fieldVal ) { mxSetCell ( mxGetFieldByNumber ( destArray , i , j ) , offset , mxCreateDoubleScalar ( ( real_T ) fieldVal ) ) ; } static uint_T mr_based_FOC_extractBitFieldFromCellArrayWithOffset ( const mxArray * srcArray , mwIndex i , int j , mwIndex offset , uint_T numBits ) ; static uint_T mr_based_FOC_extractBitFieldFromCellArrayWithOffset ( const mxArray * srcArray , mwIndex i , int j , mwIndex offset , uint_T numBits ) { const uint_T fieldVal = ( uint_T ) mxGetScalar ( mxGetCell ( mxGetFieldByNumber ( srcArray , i , j ) , offset ) ) ; return fieldVal & ( ( 1u << numBits ) - 1u ) ; } mxArray * mr_based_FOC_GetDWork ( ) { static const char_T * ssDWFieldNames [ 3 ] = { "rtB" , "rtDW" , "rtPrevZCX" , } ; mxArray * ssDW = mxCreateStructMatrix ( 1 , 1 , 3 , ssDWFieldNames ) ; mr_based_FOC_cacheDataAsMxArray ( ssDW , 0 , 0 , ( const void * ) & ( rtB ) , sizeof ( rtB ) ) ; { static const char_T * rtdwDataFieldNames [ 69 ] = { "rtDW.g2db00oyvj" , "rtDW.lc2ze5kdtm" , "rtDW.ki15zaj1gp" , "rtDW.gymfqxh2cd" , "rtDW.dt2ijnggmb" , "rtDW.byvsnyv5zr" , "rtDW.cz435ihcu3" , "rtDW.ceat33yomo" , "rtDW.np4v4eaezh" , "rtDW.nhi0bwiqwe" , "rtDW.jpmcmrdt3a" , "rtDW.ocgieankjr" , "rtDW.j4bzixxmjs" , "rtDW.ma3yw4utkh" , "rtDW.mfjr5e14xs" , "rtDW.jnortiucxw" , "rtDW.ocj52bygmn" , "rtDW.m4pexi1xka" , "rtDW.bwi4ak5yob" , "rtDW.bl3wth4gb4" , "rtDW.d4deydkd2e" , "rtDW.dy3zgavjvw" , "rtDW.hxmang4whi" , "rtDW.gmsb5tf0og" , "rtDW.d0lzng0qrp" , "rtDW.cv41it4amb" , "rtDW.pwmwjft1gn" , "rtDW.fy0bl2dcyx" , "rtDW.nnw34mmyux" , "rtDW.fih3gfro2h" , "rtDW.psfjb0nsls" , "rtDW.pvevgoy3y3" , "rtDW.lni3dmfvjj" , "rtDW.ifed2xuv2w" , "rtDW.nr4jtirdwo" , "rtDW.ocwaun5q5s" , "rtDW.mkoxzdqwi2" , "rtDW.akjewdlwej" , "rtDW.cuak05qrvl" , "rtDW.ocbrfohdqu" , "rtDW.g5jwl0rrph" , "rtDW.ftys1qypo0" , "rtDW.jl5a3sor32" , "rtDW.k4luewptuo" , "rtDW.obc0rz1ip3" , "rtDW.nghwbebn4m" , "rtDW.cflpbnskfq" , "rtDW.h3rmilnlg1" , "rtDW.dntfct2nvq" , "rtDW.gkeivfk3do" , "rtDW.pqj3y2oaqf" , "rtDW.kg410grc4m.lol2meeg5o" , "rtDW.kg410grc4m.adakvlvgf4" , "rtDW.kg410grc4m.kejdnwv5ef" , "rtDW.kg410grc4m.epw5r2ybkp" , "rtDW.kg410grc4m.gkvboyiwt2" , "rtDW.kg410grc4m.ogzjxpnwsq" , "rtDW.jty1wsfjlj.lol2meeg5o" , "rtDW.jty1wsfjlj.adakvlvgf4" , "rtDW.jty1wsfjlj.kejdnwv5ef" , "rtDW.jty1wsfjlj.epw5r2ybkp" , "rtDW.jty1wsfjlj.gkvboyiwt2" , "rtDW.jty1wsfjlj.ogzjxpnwsq" , "rtDW.emmdqoheic.lol2meeg5o" , "rtDW.emmdqoheic.adakvlvgf4" , "rtDW.emmdqoheic.kejdnwv5ef" , "rtDW.emmdqoheic.epw5r2ybkp" , "rtDW.emmdqoheic.gkvboyiwt2" , "rtDW.emmdqoheic.ogzjxpnwsq" , } ; mxArray * rtdwData = mxCreateStructMatrix ( 1 , 1 , 69 , rtdwDataFieldNames ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 0 , ( const void * ) & ( rtDW . g2db00oyvj ) , sizeof ( rtDW . g2db00oyvj ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 1 , ( const void * ) & ( rtDW . lc2ze5kdtm ) , sizeof ( rtDW . lc2ze5kdtm ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 2 , ( const void * ) & ( rtDW . ki15zaj1gp ) , sizeof ( rtDW . ki15zaj1gp ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 3 , ( const void * ) & ( rtDW . gymfqxh2cd ) , sizeof ( rtDW . gymfqxh2cd ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 4 , ( const void * ) & ( rtDW . dt2ijnggmb ) , sizeof ( rtDW . dt2ijnggmb ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 5 , ( const void * ) & ( rtDW . byvsnyv5zr ) , sizeof ( rtDW . byvsnyv5zr ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 6 , ( const void * ) & ( rtDW . cz435ihcu3 ) , sizeof ( rtDW . cz435ihcu3 ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 7 , ( const void * ) & ( rtDW . ceat33yomo ) , sizeof ( rtDW . ceat33yomo ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 8 , ( const void * ) & ( rtDW . np4v4eaezh ) , sizeof ( rtDW . np4v4eaezh ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 9 , ( const void * ) & ( rtDW . nhi0bwiqwe ) , sizeof ( rtDW . nhi0bwiqwe ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 10 , ( const void * ) & ( rtDW . jpmcmrdt3a ) , sizeof ( rtDW . jpmcmrdt3a ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 11 , ( const void * ) & ( rtDW . ocgieankjr ) , sizeof ( rtDW . ocgieankjr ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 12 , ( const void * ) & ( rtDW . j4bzixxmjs ) , sizeof ( rtDW . j4bzixxmjs ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 13 , ( const void * ) & ( rtDW . ma3yw4utkh ) , sizeof ( rtDW . ma3yw4utkh ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 14 , ( const void * ) & ( rtDW . mfjr5e14xs ) , sizeof ( rtDW . mfjr5e14xs ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 15 , ( const void * ) & ( rtDW . jnortiucxw ) , sizeof ( rtDW . jnortiucxw ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 16 , ( const void * ) & ( rtDW . ocj52bygmn ) , sizeof ( rtDW . ocj52bygmn ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 17 , ( const void * ) & ( rtDW . m4pexi1xka ) , sizeof ( rtDW . m4pexi1xka ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 18 , ( const void * ) & ( rtDW . bwi4ak5yob ) , sizeof ( rtDW . bwi4ak5yob ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 19 , ( const void * ) & ( rtDW . bl3wth4gb4 ) , sizeof ( rtDW . bl3wth4gb4 ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 20 , ( const void * ) & ( rtDW . d4deydkd2e ) , sizeof ( rtDW . d4deydkd2e ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 21 , ( const void * ) & ( rtDW . dy3zgavjvw ) , sizeof ( rtDW . dy3zgavjvw ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 22 , ( const void * ) & ( rtDW . hxmang4whi ) , sizeof ( rtDW . hxmang4whi ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 23 , ( const void * ) & ( rtDW . gmsb5tf0og ) , sizeof ( rtDW . gmsb5tf0og ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 24 , ( const void * ) & ( rtDW . d0lzng0qrp ) , sizeof ( rtDW . d0lzng0qrp ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 25 , ( const void * ) & ( rtDW . cv41it4amb ) , sizeof ( rtDW . cv41it4amb ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 26 , ( const void * ) & ( rtDW . pwmwjft1gn ) , sizeof ( rtDW . pwmwjft1gn ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 27 , ( const void * ) & ( rtDW . fy0bl2dcyx ) , sizeof ( rtDW . fy0bl2dcyx ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 28 , ( const void * ) & ( rtDW . nnw34mmyux ) , sizeof ( rtDW . nnw34mmyux ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 29 , ( const void * ) & ( rtDW . fih3gfro2h ) , sizeof ( rtDW . fih3gfro2h ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 30 , ( const void * ) & ( rtDW . psfjb0nsls ) , sizeof ( rtDW . psfjb0nsls ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 31 , ( const void * ) & ( rtDW . pvevgoy3y3 ) , sizeof ( rtDW . pvevgoy3y3 ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 32 , ( const void * ) & ( rtDW . lni3dmfvjj ) , sizeof ( rtDW . lni3dmfvjj ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 33 , ( const void * ) & ( rtDW . ifed2xuv2w ) , sizeof ( rtDW . ifed2xuv2w ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 34 , ( const void * ) & ( rtDW . nr4jtirdwo ) , sizeof ( rtDW . nr4jtirdwo ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 35 , ( const void * ) & ( rtDW . ocwaun5q5s ) , sizeof ( rtDW . ocwaun5q5s ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 36 , ( const void * ) & ( rtDW . mkoxzdqwi2 ) , sizeof ( rtDW . mkoxzdqwi2 ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 37 , ( const void * ) & ( rtDW . akjewdlwej ) , sizeof ( rtDW . akjewdlwej ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 38 , ( const void * ) & ( rtDW . cuak05qrvl ) , sizeof ( rtDW . cuak05qrvl ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 39 , ( const void * ) & ( rtDW . ocbrfohdqu ) , sizeof ( rtDW . ocbrfohdqu ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 40 , ( const void * ) & ( rtDW . g5jwl0rrph ) , sizeof ( rtDW . g5jwl0rrph ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 41 , ( const void * ) & ( rtDW . ftys1qypo0 ) , sizeof ( rtDW . ftys1qypo0 ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 42 , ( const void * ) & ( rtDW . jl5a3sor32 ) , sizeof ( rtDW . jl5a3sor32 ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 43 , ( const void * ) & ( rtDW . k4luewptuo ) , sizeof ( rtDW . k4luewptuo ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 44 , ( const void * ) & ( rtDW . obc0rz1ip3 ) , sizeof ( rtDW . obc0rz1ip3 ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 45 , ( const void * ) & ( rtDW . nghwbebn4m ) , sizeof ( rtDW . nghwbebn4m ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 46 , ( const void * ) & ( rtDW . cflpbnskfq ) , sizeof ( rtDW . cflpbnskfq ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 47 , ( const void * ) & ( rtDW . h3rmilnlg1 ) , sizeof ( rtDW . h3rmilnlg1 ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 48 , ( const void * ) & ( rtDW . dntfct2nvq ) , sizeof ( rtDW . dntfct2nvq ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 49 , ( const void * ) & ( rtDW . gkeivfk3do ) , sizeof ( rtDW . gkeivfk3do ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 50 , ( const void * ) & ( rtDW . pqj3y2oaqf ) , sizeof ( rtDW . pqj3y2oaqf ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 51 , ( const void * ) & ( rtDW . kg410grc4m . lol2meeg5o ) , sizeof ( rtDW . kg410grc4m . lol2meeg5o ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 52 , ( const void * ) & ( rtDW . kg410grc4m . adakvlvgf4 ) , sizeof ( rtDW . kg410grc4m . adakvlvgf4 ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 53 , ( const void * ) & ( rtDW . kg410grc4m . kejdnwv5ef ) , sizeof ( rtDW . kg410grc4m . kejdnwv5ef ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 54 , ( const void * ) & ( rtDW . kg410grc4m . epw5r2ybkp ) , sizeof ( rtDW . kg410grc4m . epw5r2ybkp ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 55 , ( const void * ) & ( rtDW . kg410grc4m . gkvboyiwt2 ) , sizeof ( rtDW . kg410grc4m . gkvboyiwt2 ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 56 , ( const void * ) & ( rtDW . kg410grc4m . ogzjxpnwsq ) , sizeof ( rtDW . kg410grc4m . ogzjxpnwsq ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 57 , ( const void * ) & ( rtDW . jty1wsfjlj . lol2meeg5o ) , sizeof ( rtDW . jty1wsfjlj . lol2meeg5o ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 58 , ( const void * ) & ( rtDW . jty1wsfjlj . adakvlvgf4 ) , sizeof ( rtDW . jty1wsfjlj . adakvlvgf4 ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 59 , ( const void * ) & ( rtDW . jty1wsfjlj . kejdnwv5ef ) , sizeof ( rtDW . jty1wsfjlj . kejdnwv5ef ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 60 , ( const void * ) & ( rtDW . jty1wsfjlj . epw5r2ybkp ) , sizeof ( rtDW . jty1wsfjlj . epw5r2ybkp ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 61 , ( const void * ) & ( rtDW . jty1wsfjlj . gkvboyiwt2 ) , sizeof ( rtDW . jty1wsfjlj . gkvboyiwt2 ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 62 , ( const void * ) & ( rtDW . jty1wsfjlj . ogzjxpnwsq ) , sizeof ( rtDW . jty1wsfjlj . ogzjxpnwsq ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 63 , ( const void * ) & ( rtDW . emmdqoheic . lol2meeg5o ) , sizeof ( rtDW . emmdqoheic . lol2meeg5o ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 64 , ( const void * ) & ( rtDW . emmdqoheic . adakvlvgf4 ) , sizeof ( rtDW . emmdqoheic . adakvlvgf4 ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 65 , ( const void * ) & ( rtDW . emmdqoheic . kejdnwv5ef ) , sizeof ( rtDW . emmdqoheic . kejdnwv5ef ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 66 , ( const void * ) & ( rtDW . emmdqoheic . epw5r2ybkp ) , sizeof ( rtDW . emmdqoheic . epw5r2ybkp ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 67 , ( const void * ) & ( rtDW . emmdqoheic . gkvboyiwt2 ) , sizeof ( rtDW . emmdqoheic . gkvboyiwt2 ) ) ; mr_based_FOC_cacheDataAsMxArray ( rtdwData , 0 , 68 , ( const void * ) & ( rtDW . emmdqoheic . ogzjxpnwsq ) , sizeof ( rtDW . emmdqoheic . ogzjxpnwsq ) ) ; mxSetFieldByNumber ( ssDW , 0 , 1 , rtdwData ) ; } mr_based_FOC_cacheDataAsMxArray ( ssDW , 0 , 2 , ( const void * ) & ( rtPrevZCX ) , sizeof ( rtPrevZCX ) ) ; return ssDW ; } void mr_based_FOC_SetDWork ( const mxArray * ssDW ) { ( void ) ssDW ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtB ) , ssDW , 0 , 0 , sizeof ( rtB ) ) ; { const mxArray * rtdwData = mxGetFieldByNumber ( ssDW , 0 , 1 ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . g2db00oyvj ) , rtdwData , 0 , 0 , sizeof ( rtDW . g2db00oyvj ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . lc2ze5kdtm ) , rtdwData , 0 , 1 , sizeof ( rtDW . lc2ze5kdtm ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . ki15zaj1gp ) , rtdwData , 0 , 2 , sizeof ( rtDW . ki15zaj1gp ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . gymfqxh2cd ) , rtdwData , 0 , 3 , sizeof ( rtDW . gymfqxh2cd ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . dt2ijnggmb ) , rtdwData , 0 , 4 , sizeof ( rtDW . dt2ijnggmb ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . byvsnyv5zr ) , rtdwData , 0 , 5 , sizeof ( rtDW . byvsnyv5zr ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . cz435ihcu3 ) , rtdwData , 0 , 6 , sizeof ( rtDW . cz435ihcu3 ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . ceat33yomo ) , rtdwData , 0 , 7 , sizeof ( rtDW . ceat33yomo ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . np4v4eaezh ) , rtdwData , 0 , 8 , sizeof ( rtDW . np4v4eaezh ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . nhi0bwiqwe ) , rtdwData , 0 , 9 , sizeof ( rtDW . nhi0bwiqwe ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . jpmcmrdt3a ) , rtdwData , 0 , 10 , sizeof ( rtDW . jpmcmrdt3a ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . ocgieankjr ) , rtdwData , 0 , 11 , sizeof ( rtDW . ocgieankjr ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . j4bzixxmjs ) , rtdwData , 0 , 12 , sizeof ( rtDW . j4bzixxmjs ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . ma3yw4utkh ) , rtdwData , 0 , 13 , sizeof ( rtDW . ma3yw4utkh ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . mfjr5e14xs ) , rtdwData , 0 , 14 , sizeof ( rtDW . mfjr5e14xs ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . jnortiucxw ) , rtdwData , 0 , 15 , sizeof ( rtDW . jnortiucxw ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . ocj52bygmn ) , rtdwData , 0 , 16 , sizeof ( rtDW . ocj52bygmn ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . m4pexi1xka ) , rtdwData , 0 , 17 , sizeof ( rtDW . m4pexi1xka ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . bwi4ak5yob ) , rtdwData , 0 , 18 , sizeof ( rtDW . bwi4ak5yob ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . bl3wth4gb4 ) , rtdwData , 0 , 19 , sizeof ( rtDW . bl3wth4gb4 ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . d4deydkd2e ) , rtdwData , 0 , 20 , sizeof ( rtDW . d4deydkd2e ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . dy3zgavjvw ) , rtdwData , 0 , 21 , sizeof ( rtDW . dy3zgavjvw ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . hxmang4whi ) , rtdwData , 0 , 22 , sizeof ( rtDW . hxmang4whi ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . gmsb5tf0og ) , rtdwData , 0 , 23 , sizeof ( rtDW . gmsb5tf0og ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . d0lzng0qrp ) , rtdwData , 0 , 24 , sizeof ( rtDW . d0lzng0qrp ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . cv41it4amb ) , rtdwData , 0 , 25 , sizeof ( rtDW . cv41it4amb ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . pwmwjft1gn ) , rtdwData , 0 , 26 , sizeof ( rtDW . pwmwjft1gn ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . fy0bl2dcyx ) , rtdwData , 0 , 27 , sizeof ( rtDW . fy0bl2dcyx ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . nnw34mmyux ) , rtdwData , 0 , 28 , sizeof ( rtDW . nnw34mmyux ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . fih3gfro2h ) , rtdwData , 0 , 29 , sizeof ( rtDW . fih3gfro2h ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . psfjb0nsls ) , rtdwData , 0 , 30 , sizeof ( rtDW . psfjb0nsls ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . pvevgoy3y3 ) , rtdwData , 0 , 31 , sizeof ( rtDW . pvevgoy3y3 ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . lni3dmfvjj ) , rtdwData , 0 , 32 , sizeof ( rtDW . lni3dmfvjj ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . ifed2xuv2w ) , rtdwData , 0 , 33 , sizeof ( rtDW . ifed2xuv2w ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . nr4jtirdwo ) , rtdwData , 0 , 34 , sizeof ( rtDW . nr4jtirdwo ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . ocwaun5q5s ) , rtdwData , 0 , 35 , sizeof ( rtDW . ocwaun5q5s ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . mkoxzdqwi2 ) , rtdwData , 0 , 36 , sizeof ( rtDW . mkoxzdqwi2 ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . akjewdlwej ) , rtdwData , 0 , 37 , sizeof ( rtDW . akjewdlwej ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . cuak05qrvl ) , rtdwData , 0 , 38 , sizeof ( rtDW . cuak05qrvl ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . ocbrfohdqu ) , rtdwData , 0 , 39 , sizeof ( rtDW . ocbrfohdqu ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . g5jwl0rrph ) , rtdwData , 0 , 40 , sizeof ( rtDW . g5jwl0rrph ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . ftys1qypo0 ) , rtdwData , 0 , 41 , sizeof ( rtDW . ftys1qypo0 ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . jl5a3sor32 ) , rtdwData , 0 , 42 , sizeof ( rtDW . jl5a3sor32 ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . k4luewptuo ) , rtdwData , 0 , 43 , sizeof ( rtDW . k4luewptuo ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . obc0rz1ip3 ) , rtdwData , 0 , 44 , sizeof ( rtDW . obc0rz1ip3 ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . nghwbebn4m ) , rtdwData , 0 , 45 , sizeof ( rtDW . nghwbebn4m ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . cflpbnskfq ) , rtdwData , 0 , 46 , sizeof ( rtDW . cflpbnskfq ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . h3rmilnlg1 ) , rtdwData , 0 , 47 , sizeof ( rtDW . h3rmilnlg1 ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . dntfct2nvq ) , rtdwData , 0 , 48 , sizeof ( rtDW . dntfct2nvq ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . gkeivfk3do ) , rtdwData , 0 , 49 , sizeof ( rtDW . gkeivfk3do ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . pqj3y2oaqf ) , rtdwData , 0 , 50 , sizeof ( rtDW . pqj3y2oaqf ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . kg410grc4m . lol2meeg5o ) , rtdwData , 0 , 51 , sizeof ( rtDW . kg410grc4m . lol2meeg5o ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . kg410grc4m . adakvlvgf4 ) , rtdwData , 0 , 52 , sizeof ( rtDW . kg410grc4m . adakvlvgf4 ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . kg410grc4m . kejdnwv5ef ) , rtdwData , 0 , 53 , sizeof ( rtDW . kg410grc4m . kejdnwv5ef ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . kg410grc4m . epw5r2ybkp ) , rtdwData , 0 , 54 , sizeof ( rtDW . kg410grc4m . epw5r2ybkp ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . kg410grc4m . gkvboyiwt2 ) , rtdwData , 0 , 55 , sizeof ( rtDW . kg410grc4m . gkvboyiwt2 ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . kg410grc4m . ogzjxpnwsq ) , rtdwData , 0 , 56 , sizeof ( rtDW . kg410grc4m . ogzjxpnwsq ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . jty1wsfjlj . lol2meeg5o ) , rtdwData , 0 , 57 , sizeof ( rtDW . jty1wsfjlj . lol2meeg5o ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . jty1wsfjlj . adakvlvgf4 ) , rtdwData , 0 , 58 , sizeof ( rtDW . jty1wsfjlj . adakvlvgf4 ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . jty1wsfjlj . kejdnwv5ef ) , rtdwData , 0 , 59 , sizeof ( rtDW . jty1wsfjlj . kejdnwv5ef ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . jty1wsfjlj . epw5r2ybkp ) , rtdwData , 0 , 60 , sizeof ( rtDW . jty1wsfjlj . epw5r2ybkp ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . jty1wsfjlj . gkvboyiwt2 ) , rtdwData , 0 , 61 , sizeof ( rtDW . jty1wsfjlj . gkvboyiwt2 ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . jty1wsfjlj . ogzjxpnwsq ) , rtdwData , 0 , 62 , sizeof ( rtDW . jty1wsfjlj . ogzjxpnwsq ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . emmdqoheic . lol2meeg5o ) , rtdwData , 0 , 63 , sizeof ( rtDW . emmdqoheic . lol2meeg5o ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . emmdqoheic . adakvlvgf4 ) , rtdwData , 0 , 64 , sizeof ( rtDW . emmdqoheic . adakvlvgf4 ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . emmdqoheic . kejdnwv5ef ) , rtdwData , 0 , 65 , sizeof ( rtDW . emmdqoheic . kejdnwv5ef ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . emmdqoheic . epw5r2ybkp ) , rtdwData , 0 , 66 , sizeof ( rtDW . emmdqoheic . epw5r2ybkp ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . emmdqoheic . gkvboyiwt2 ) , rtdwData , 0 , 67 , sizeof ( rtDW . emmdqoheic . gkvboyiwt2 ) ) ; mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtDW . emmdqoheic . ogzjxpnwsq ) , rtdwData , 0 , 68 , sizeof ( rtDW . emmdqoheic . ogzjxpnwsq ) ) ; } mr_based_FOC_restoreDataFromMxArray ( ( void * ) & ( rtPrevZCX ) , ssDW , 0 , 2 , sizeof ( rtPrevZCX ) ) ; } mxArray * mr_based_FOC_GetSimStateDisallowedBlocks ( ) { mxArray * data = mxCreateCellMatrix ( 10 , 3 ) ; mwIndex subs [ 2 ] , offset ; { static const char_T * blockType [ 10 ] = { "S-Function" , "Scope" , "Scope" , "Scope" , "Scope" , "Scope" , "Scope" , "Scope" , "Scope" , "Scope" , } ; static const char_T * blockPath [ 10 ] = { "based_FOC/powergui/EquivalentModel1/State-Space" , "based_FOC/Scope" , "based_FOC/Scope1" , "based_FOC/Subsystem2/Scope1" , "based_FOC/Subsystem2/Subsystem1/Scope" , "based_FOC/Subsystem2/Subsystem1/Scope1" , "based_FOC/Subsystem2/Subsystem1/Scope2" , "based_FOC/Subsystem2/Subsystem1/Scope3" , "based_FOC/Subsystem4/Scope" , "based_FOC/Subsystem/Sensorless/Scope" , } ; static const int reason [ 10 ] = { 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , } ; for ( subs [ 0 ] = 0 ; subs [ 0 ] < 10 ; ++ ( subs [ 0 ] ) ) { subs [ 1 ] = 0 ; offset = mxCalcSingleSubscript ( data , 2 , subs ) ; mxSetCell ( data , offset , mxCreateString ( blockType [ subs [ 0 ] ] ) ) ; subs [ 1 ] = 1 ; offset = mxCalcSingleSubscript ( data , 2 , subs ) ; mxSetCell ( data , offset , mxCreateString ( blockPath [ subs [ 0 ] ] ) ) ; subs [ 1 ] = 2 ; offset = mxCalcSingleSubscript ( data , 2 , subs ) ; mxSetCell ( data , offset , mxCreateDoubleScalar ( ( real_T ) reason [ subs [ 0 ] ] ) ) ; } } return data ; } void MdlInitializeSizes ( void ) { ssSetNumContStates ( rtS , 0 ) ; ssSetNumY ( rtS , 0 ) ; ssSetNumU ( rtS , 0 ) ; ssSetDirectFeedThrough ( rtS , 0 ) ; ssSetNumSampleTimes ( rtS , 2 ) ; ssSetNumBlocks ( rtS , 346 ) ; ssSetNumBlockIO ( rtS , 67 ) ; ssSetNumBlockParams ( rtS , 1359 ) ; } void MdlInitializeSampleTimes ( void ) { ssSetSampleTime ( rtS , 0 , 0.0 ) ; ssSetSampleTime ( rtS , 1 , 1.0E-6 ) ; ssSetOffsetTime ( rtS , 0 , 0.0 ) ; ssSetOffsetTime ( rtS , 1 , 0.0 ) ; } void raccel_set_checksum ( ) { ssSetChecksumVal ( rtS , 0 , 3882063023U ) ; ssSetChecksumVal ( rtS , 1 , 2812955237U ) ; ssSetChecksumVal ( rtS , 2 , 891024981U ) ; ssSetChecksumVal ( rtS , 3 , 2338554480U ) ; }
#if defined(_MSC_VER)
#pragma optimize( "", off )
#endif
SimStruct * raccel_register_model ( ssExecutionInfo * executionInfo ) {
static struct _ssMdlInfo mdlInfo ; static struct _ssBlkInfo2 blkInfo2 ;
static struct _ssBlkInfoSLSize blkInfoSLSize ; rt_modelMapInfoPtr = & ( rt_dataMapInfo . mmi ) ; executionInfo -> gblObjects_ . numToFiles = 0 ; executionInfo -> gblObjects_ . numFrFiles = 0 ; executionInfo -> gblObjects_ . numFrWksBlocks = 0 ; executionInfo -> gblObjects_ . numModelInputs = 0 ; executionInfo -> gblObjects_ . numRootInportBlks = 0 ; executionInfo -> gblObjects_ . inportDataTypeIdx = NULL ; executionInfo -> gblObjects_ . inportDims = NULL ; executionInfo -> gblObjects_ . inportComplex = NULL ; executionInfo -> gblObjects_ . inportInterpoFlag = NULL ; executionInfo -> gblObjects_ . inportContinuous = NULL ; ( void ) memset ( ( char_T * ) rtS , 0 , sizeof ( SimStruct ) ) ; ( void ) memset ( ( char_T * ) & mdlInfo , 0 , sizeof ( struct _ssMdlInfo ) ) ; ( void ) memset ( ( char_T * ) & blkInfo2 , 0 , sizeof ( struct _ssBlkInfo2 ) ) ; ( void ) memset ( ( char_T * ) & blkInfoSLSize , 0 , sizeof ( struct _ssBlkInfoSLSize ) ) ; ssSetBlkInfo2Ptr ( rtS , & blkInfo2 ) ; ssSetBlkInfoSLSizePtr ( rtS , & blkInfoSLSize ) ; ssSetMdlInfoPtr ( rtS , & mdlInfo ) ; ssSetExecutionInfo ( rtS , executionInfo ) ; slsaAllocOPModelData ( rtS ) ; { static time_T mdlPeriod [ NSAMPLE_TIMES ] ; static time_T mdlOffset [ NSAMPLE_TIMES ] ; static time_T mdlTaskTimes [ NSAMPLE_TIMES ] ; static int_T mdlTsMap [ NSAMPLE_TIMES ] ; static int_T mdlSampleHits [ NSAMPLE_TIMES ] ; static boolean_T mdlTNextWasAdjustedPtr [ NSAMPLE_TIMES ] ; static int_T mdlPerTaskSampleHits [ NSAMPLE_TIMES * NSAMPLE_TIMES ] ; static time_T mdlTimeOfNextSampleHit [ NSAMPLE_TIMES ] ; { int_T i ; for ( i = 0 ; i < NSAMPLE_TIMES ; i ++ ) { mdlPeriod [ i ] = 0.0 ; mdlOffset [ i ] = 0.0 ; mdlTaskTimes [ i ] = 0.0 ; mdlTsMap [ i ] = i ; mdlSampleHits [ i ] = 1 ; } } ssSetSampleTimePtr ( rtS , & mdlPeriod [ 0 ] ) ; ssSetOffsetTimePtr ( rtS , & mdlOffset [ 0 ] ) ; ssSetSampleTimeTaskIDPtr ( rtS , & mdlTsMap [ 0 ] ) ; ssSetTPtr ( rtS , & mdlTaskTimes [ 0 ] ) ; ssSetSampleHitPtr ( rtS , & mdlSampleHits [ 0 ] ) ; ssSetTNextWasAdjustedPtr ( rtS , & mdlTNextWasAdjustedPtr [ 0 ] ) ; ssSetPerTaskSampleHitsPtr ( rtS , & mdlPerTaskSampleHits [ 0 ] ) ; ssSetTimeOfNextSampleHitPtr ( rtS , & mdlTimeOfNextSampleHit [ 0 ] ) ; } ssSetSolverMode ( rtS , SOLVER_MODE_SINGLETASKING ) ; { ssSetBlockIO ( rtS , ( ( void * ) & rtB ) ) ; ( void ) memset ( ( ( void * ) & rtB ) , 0 , sizeof ( B ) ) ; } { void * dwork = ( void * ) & rtDW ; ssSetRootDWork ( rtS , dwork ) ; ( void ) memset ( dwork , 0 , sizeof ( DW ) ) ; } { static DataTypeTransInfo dtInfo ; ( void ) memset ( ( char_T * ) & dtInfo , 0 , sizeof ( dtInfo ) ) ; ssSetModelMappingInfo ( rtS , & dtInfo ) ; dtInfo . numDataTypes = 24 ; dtInfo . dataTypeSizes = & rtDataTypeSizes [ 0 ] ; dtInfo . dataTypeNames = & rtDataTypeNames [ 0 ] ; dtInfo . BTransTable = & rtBTransTable ; dtInfo . PTransTable = & rtPTransTable ; dtInfo . dataTypeInfoTable = rtDataTypeInfoTable ; } based_FOC_InitializeDataMapInfo ( ) ; ssSetIsRapidAcceleratorActive ( rtS , true ) ; ssSetRootSS ( rtS , rtS ) ; ssSetVersion ( rtS , SIMSTRUCT_VERSION_LEVEL2 ) ; ssSetModelName ( rtS , "based_FOC" ) ; ssSetPath ( rtS , "based_FOC" ) ; ssSetTStart ( rtS , 0.0 ) ; ssSetTFinal ( rtS , INFINITY ) ; ssSetStepSize ( rtS , 1.0E-6 ) ; ssSetFixedStepSize ( rtS , 1.0E-6 ) ; { static RTWLogInfo rt_DataLoggingInfo ; rt_DataLoggingInfo . loggingInterval = ( NULL ) ; ssSetRTWLogInfo ( rtS , & rt_DataLoggingInfo ) ; } { { static int_T rt_LoggedStateWidths [ ] = { 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 } ; static int_T rt_LoggedStateNumDimensions [ ] = { 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 } ; static int_T rt_LoggedStateDimensions [ ] = { 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 } ; static boolean_T rt_LoggedStateIsVarDims [ ] = { 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 } ; static BuiltInDTypeId rt_LoggedStateDataTypeIds [ ] = { SS_DOUBLE , SS_DOUBLE , SS_DOUBLE , SS_DOUBLE , SS_DOUBLE , SS_DOUBLE , SS_DOUBLE , SS_DOUBLE , SS_DOUBLE , SS_DOUBLE , SS_DOUBLE , SS_DOUBLE , SS_DOUBLE } ; static int_T rt_LoggedStateComplexSignals [ ] = { 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 } ; static RTWPreprocessingFcnPtr rt_LoggingStatePreprocessingFcnPtrs [ ] = { ( NULL ) , ( NULL ) , ( NULL ) , ( NULL ) , ( NULL ) , ( NULL ) , ( NULL ) , ( NULL ) , ( NULL ) , ( NULL ) , ( NULL ) , ( NULL ) , ( NULL ) } ; static const char_T * rt_LoggedStateLabels [ ] = { "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" } ; static const char_T * rt_LoggedStateBlockNames [ ] = { "based_FOC/Permanent Magnet\nSynchronous Machine1/Mechanical model/Discrete-Time\nIntegrator1" , "based_FOC/Permanent Magnet\nSynchronous Machine1/Electrical model/iq,id/iq/Discrete-Time\nIntegrator" , "based_FOC/Permanent Magnet\nSynchronous Machine1/Electrical model/iq,id/id/Discrete-Time\nIntegrator" , "based_FOC/Permanent Magnet\nSynchronous Machine1/Mechanical model/Discrete-Time\nIntegrator" , "based_FOC/Two-Level Converter1/Model/Prediction_Vdc/Unit Delay5" , "based_FOC/Two-Level Converter1/Model/Prediction_Vdc/Unit Delay6" , "based_FOC/Two-Level Converter1/Model/Unit Delay1" , "based_FOC/Subsystem/Sensorless/Delay1" , "based_FOC/Subsystem/Sensorless/Delay" , "based_FOC/Subsystem/Sensorless/Flux_observer/OBSERVER/Delay" , "based_FOC/Subsystem/Sensorless/Flux_observer/OBSERVER/Delay1" , "based_FOC/Subsystem/Sensorless/Flux_observer/PLL/Discrete-Time\nIntegrator" , "based_FOC/Subsystem/Sensorless/Flux_observer/PLL/Low-Pass Filter\n(Discrete or Continuous)/Integrator\n(Discrete or Continuous)/Discrete/Integrator" } ; static const char_T * rt_LoggedStateNames [ ] = { "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" , "DSTATE" } ; static boolean_T rt_LoggedStateCrossMdlRef [ ] = { 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 } ; static RTWLogDataTypeConvert rt_RTWLogDataTypeConvert [ ] = { { 0 , SS_DOUBLE , SS_DOUBLE , 0 , 0 , 0 , 1.0 , 0 , 0.0 } , { 0 , SS_DOUBLE , SS_DOUBLE , 0 , 0 , 0 , 1.0 , 0 , 0.0 } , { 0 , SS_DOUBLE , SS_DOUBLE , 0 , 0 , 0 , 1.0 , 0 , 0.0 } , { 0 , SS_DOUBLE , SS_DOUBLE , 0 , 0 , 0 , 1.0 , 0 , 0.0 } , { 0 , SS_DOUBLE , SS_DOUBLE , 0 , 0 , 0 , 1.0 , 0 , 0.0 } , { 0 , SS_DOUBLE , SS_DOUBLE , 0 , 0 , 0 , 1.0 , 0 , 0.0 } , { 0 , SS_DOUBLE , SS_DOUBLE , 0 , 0 , 0 , 1.0 , 0 , 0.0 } , { 0 , SS_DOUBLE , SS_DOUBLE , 0 , 0 , 0 , 1.0 , 0 , 0.0 } , { 0 , SS_DOUBLE , SS_DOUBLE , 0 , 0 , 0 , 1.0 , 0 , 0.0 } , { 0 , SS_DOUBLE , SS_DOUBLE , 0 , 0 , 0 , 1.0 , 0 , 0.0 } , { 0 , SS_DOUBLE , SS_DOUBLE , 0 , 0 , 0 , 1.0 , 0 , 0.0 } , { 0 , SS_DOUBLE , SS_DOUBLE , 0 , 0 , 0 , 1.0 , 0 , 0.0 } , { 0 , SS_DOUBLE , SS_DOUBLE , 0 , 0 , 0 , 1.0 , 0 , 0.0 } } ; static int_T rt_LoggedStateIdxList [ ] = { 0 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 } ; static RTWLogSignalInfo rt_LoggedStateSignalInfo = { 13 , rt_LoggedStateWidths , rt_LoggedStateNumDimensions , rt_LoggedStateDimensions , rt_LoggedStateIsVarDims , ( NULL ) , ( NULL ) , rt_LoggedStateDataTypeIds , rt_LoggedStateComplexSignals , ( NULL ) , rt_LoggingStatePreprocessingFcnPtrs , { rt_LoggedStateLabels } , ( NULL ) , ( NULL ) , ( NULL ) , { rt_LoggedStateBlockNames } , { rt_LoggedStateNames } , rt_LoggedStateCrossMdlRef , rt_RTWLogDataTypeConvert , rt_LoggedStateIdxList } ; static void * rt_LoggedStateSignalPtrs [ 13 ] ; rtliSetLogXSignalPtrs ( ssGetRTWLogInfo ( rtS ) , ( LogSignalPtrsType ) rt_LoggedStateSignalPtrs ) ; rtliSetLogXSignalInfo ( ssGetRTWLogInfo ( rtS ) , & rt_LoggedStateSignalInfo ) ; rt_LoggedStateSignalPtrs [ 0 ] = ( void * ) & rtDW . g2db00oyvj ; rt_LoggedStateSignalPtrs [ 1 ] = ( void * ) & rtDW . lc2ze5kdtm ; rt_LoggedStateSignalPtrs [ 2 ] = ( void * ) & rtDW . ki15zaj1gp ; rt_LoggedStateSignalPtrs [ 3 ] = ( void * ) & rtDW . gymfqxh2cd ; rt_LoggedStateSignalPtrs [ 4 ] = ( void * ) & rtDW . dt2ijnggmb ; rt_LoggedStateSignalPtrs [ 5 ] = ( void * ) & rtDW . byvsnyv5zr ; rt_LoggedStateSignalPtrs [ 6 ] = ( void * ) & rtDW . cz435ihcu3 ; rt_LoggedStateSignalPtrs [ 7 ] = ( void * ) & rtDW . ceat33yomo ; rt_LoggedStateSignalPtrs [ 8 ] = ( void * ) & rtDW . np4v4eaezh ; rt_LoggedStateSignalPtrs [ 9 ] = ( void * ) & rtDW . nhi0bwiqwe ; rt_LoggedStateSignalPtrs [ 10 ] = ( void * ) & rtDW . jpmcmrdt3a ; rt_LoggedStateSignalPtrs [ 11 ] = ( void * ) & rtDW . ocgieankjr ; rt_LoggedStateSignalPtrs [ 12 ] = ( void * ) & rtDW . j4bzixxmjs ; } rtliSetLogT ( ssGetRTWLogInfo ( rtS ) , "tout" ) ; rtliSetLogX ( ssGetRTWLogInfo ( rtS ) , "" ) ; rtliSetLogXFinal ( ssGetRTWLogInfo ( rtS ) , "xFinal" ) ; rtliSetLogVarNameModifier ( ssGetRTWLogInfo ( rtS ) , "none" ) ; rtliSetLogFormat ( ssGetRTWLogInfo ( rtS ) , 4 ) ; rtliSetLogMaxRows ( ssGetRTWLogInfo ( rtS ) , 0 ) ; rtliSetLogDecimation ( ssGetRTWLogInfo ( rtS ) , 1 ) ; rtliSetLogY ( ssGetRTWLogInfo ( rtS ) , "" ) ; rtliSetLogYSignalInfo ( ssGetRTWLogInfo ( rtS ) , ( NULL ) ) ; rtliSetLogYSignalPtrs ( ssGetRTWLogInfo ( rtS ) , ( NULL ) ) ; } { static struct _ssStatesInfo2 statesInfo2 ; ssSetStatesInfo2 ( rtS , & statesInfo2 ) ; } { static ssPeriodicStatesInfo periodicStatesInfo ; ssSetPeriodicStatesInfo ( rtS , & periodicStatesInfo ) ; } { static ssJacobianPerturbationBounds jacobianPerturbationBounds ; ssSetJacobianPerturbationBounds ( rtS , & jacobianPerturbationBounds ) ; } { static ssSolverInfo slvrInfo ; ssSetNumNonContDerivSigInfos ( rtS , 0 ) ; ssSetNonContDerivSigInfos ( rtS , ( NULL ) ) ; ssSetSolverInfo ( rtS , & slvrInfo ) ; ssSetSolverName ( rtS , "FixedStepDiscrete" ) ; ssSetVariableStepSolver ( rtS , 0 ) ; ssSetSolverConsistencyChecking ( rtS , 0 ) ; ssSetSolverAdaptiveZcDetection ( rtS , 0 ) ; ssSetSolverRobustResetMethod ( rtS , 0 ) ; ssSetSolverStateProjection ( rtS , 0 ) ; ssSetSolverMassMatrixType ( rtS , ( ssMatrixType ) 0 ) ; ssSetSolverMassMatrixNzMax ( rtS , 0 ) ; ssSetModelOutputs ( rtS , MdlOutputs ) ; ssSetModelUpdate ( rtS , MdlUpdate ) ; ssSetTNextTid ( rtS , INT_MIN ) ; ssSetTNext ( rtS , rtMinusInf ) ; ssSetSolverNeedsReset ( rtS ) ; ssSetNumNonsampledZCs ( rtS , 0 ) ; } { ZCSigState * zc = ( ZCSigState * ) & rtPrevZCX ; ssSetPrevZCSigState ( rtS , zc ) ; } { rtPrevZCX . orqtvo2unp = UNINITIALIZED_ZCSIG ; } ssSetChecksumVal ( rtS , 0 , 3882063023U ) ; ssSetChecksumVal ( rtS , 1 , 2812955237U ) ; ssSetChecksumVal ( rtS , 2 , 891024981U ) ; ssSetChecksumVal ( rtS , 3 , 2338554480U ) ; { static const sysRanDType rtAlwaysEnabled = SUBSYS_RAN_BC_ENABLE ; static RTWExtModeInfo rt_ExtModeInfo ; static const sysRanDType * systemRan [ 18 ] ; gblRTWExtModeInfo = & rt_ExtModeInfo ; ssSetRTWExtModeInfo ( rtS , & rt_ExtModeInfo ) ; rteiSetSubSystemActiveVectorAddresses ( & rt_ExtModeInfo , systemRan ) ; systemRan [ 0 ] = & rtAlwaysEnabled ; systemRan [ 1 ] = ( sysRanDType * ) & rtDW . nnw34mmyux ; systemRan [ 2 ] = ( sysRanDType * ) & rtDW . nnw34mmyux ; systemRan [ 3 ] = ( sysRanDType * ) & rtDW . nnw34mmyux ; systemRan [ 4 ] = ( sysRanDType * ) & rtDW . nnw34mmyux ; systemRan [ 5 ] = ( sysRanDType * ) & rtDW . nnw34mmyux ; systemRan [ 6 ] = ( sysRanDType * ) & rtDW . nnw34mmyux ; systemRan [ 7 ] = ( sysRanDType * ) & rtDW . nnw34mmyux ; systemRan [ 8 ] = ( sysRanDType * ) & rtDW . nnw34mmyux ; systemRan [ 9 ] = ( sysRanDType * ) & rtDW . nnw34mmyux ; systemRan [ 10 ] = & rtAlwaysEnabled ; systemRan [ 11 ] = & rtAlwaysEnabled ; systemRan [ 12 ] = & rtAlwaysEnabled ; systemRan [ 13 ] = & rtAlwaysEnabled ; systemRan [ 14 ] = & rtAlwaysEnabled ; systemRan [ 15 ] = & rtAlwaysEnabled ; systemRan [ 16 ] = & rtAlwaysEnabled ; systemRan [ 17 ] = & rtAlwaysEnabled ; rteiSetModelMappingInfoPtr ( ssGetRTWExtModeInfo ( rtS ) , & ssGetModelMappingInfo ( rtS ) ) ; rteiSetChecksumsPtr ( ssGetRTWExtModeInfo ( rtS ) , ssGetChecksums ( rtS ) ) ; rteiSetTPtr ( ssGetRTWExtModeInfo ( rtS ) , ssGetTPtr ( rtS ) ) ; } slsaDisallowedBlocksForSimTargetOP ( rtS , mr_based_FOC_GetSimStateDisallowedBlocks ) ; slsaGetWorkFcnForSimTargetOP ( rtS , mr_based_FOC_GetDWork ) ; slsaSetWorkFcnForSimTargetOP ( rtS , mr_based_FOC_SetDWork ) ; rt_RapidReadMatFileAndUpdateParams ( rtS ) ; if ( ssGetErrorStatus ( rtS ) ) { return rtS ; } executionInfo -> simulationOptions_ . stateSaveName_ = rtliGetLogX ( ssGetRTWLogInfo ( rtS ) ) ; executionInfo -> simulationOptions_ . finalStateName_ = rtliGetLogXFinal ( ssGetRTWLogInfo ( rtS ) ) ; executionInfo -> simulationOptions_ . outputSaveName_ = rtliGetLogY ( ssGetRTWLogInfo ( rtS ) ) ; executionInfo -> simulationOptions_ . inputTimeTolerance_ = 0.0 ; return rtS ; }
#if defined(_MSC_VER)
#pragma optimize( "", on )
#endif
void MdlOutputsParameterSampleTime ( int_T tid ) { MdlOutputsTID2 ( tid ) ; }
